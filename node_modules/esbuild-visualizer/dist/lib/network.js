var drawChart=(()=>{var no=Object.create,Nt=Object.defineProperty,io=Object.getPrototypeOf,zr=Object.prototype.hasOwnProperty,oo=Object.getOwnPropertyNames,so=Object.getOwnPropertyDescriptor,Gr=Object.getOwnPropertySymbols,ao=Object.prototype.propertyIsEnumerable;var Hr=(e,t,r)=>t in e?Nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vt=(e,t)=>{for(var r in t||(t={}))zr.call(t,r)&&Hr(e,r,t[r]);if(Gr)for(var r of Gr(t))ao.call(t,r)&&Hr(e,r,t[r]);return e},uo=e=>Nt(e,"__esModule",{value:!0});var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fo=(e,t)=>{for(var r in t)Nt(e,r,{get:t[r],enumerable:!0})},lo=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of oo(t))!zr.call(e,n)&&n!=="default"&&Nt(e,n,{get:()=>t[n],enumerable:!(r=so(t,n))||r.enumerable});return e},Vr=e=>lo(uo(Nt(e!=null?no(io(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var vr=O(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});var gr=function(){function e(t,r,n){this.source=t,this.target=r,this.type=n}return e}();ft.PowerEdge=gr;var ei=function(){function e(t,r,n,i){var o=this;if(this.linkAccessor=n,this.modules=new Array(t),this.roots=[],i)this.initModulesFromGroup(i);else{this.roots.push(new xt);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new Dt(s))}this.R=r.length,r.forEach(function(a){var u=o.modules[n.getSourceIndex(a)],l=o.modules[n.getTargetIndex(a)],f=n.getType(a);u.outgoing.add(f,l),l.incoming.add(f,u)})}return e.prototype.initModulesFromGroup=function(t){var r=new xt;this.roots.push(r);for(var n=0;n<t.leaves.length;++n){var i=t.leaves[n],o=new Dt(i.id);this.modules[i.id]=o,r.add(o)}if(t.groups)for(var s=0;s<t.groups.length;++s){var a=t.groups[s],u={};for(var l in a)l!=="leaves"&&l!=="groups"&&a.hasOwnProperty(l)&&(u[l]=a[l]);r.add(new Dt(-1-s,new Tt,new Tt,this.initModulesFromGroup(a),u))}return r},e.prototype.merge=function(t,r,n){n===void 0&&(n=0);var i=t.incoming.intersection(r.incoming),o=t.outgoing.intersection(r.outgoing),s=new xt;s.add(t),s.add(r);var a=new Dt(this.modules.length,o,i,s);this.modules.push(a);var u=function(l,f,c){l.forAll(function(h,p){h.forAll(function(v){var d=v[f];d.add(p,a),d.remove(p,t),d.remove(p,r),t[c].remove(p,v),r[c].remove(p,v)})})};return u(o,"incoming","outgoing"),u(i,"outgoing","incoming"),this.R-=i.count()+o.count(),this.roots[n].remove(t),this.roots[n].remove(r),this.roots[n].add(a),a},e.prototype.rootMerges=function(t){t===void 0&&(t=0);for(var r=this.roots[t].modules(),n=r.length,i=new Array(n*(n-1)),o=0,s=0,a=n-1;s<a;++s)for(var u=s+1;u<n;++u){var l=r[s],f=r[u];i[o]={id:o,nEdges:this.nEdges(l,f),a:l,b:f},o++}return i},e.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var r=this.rootMerges(t).sort(function(i,o){return i.nEdges==o.nEdges?i.id-o.id:i.nEdges-o.nEdges}),n=r[0];if(!(n.nEdges>=this.R))return this.merge(n.a,n.b,t),!0}},e.prototype.nEdges=function(t,r){var n=t.incoming.intersection(r.incoming),i=t.outgoing.intersection(r.outgoing);return this.R-n.count()-i.count()},e.prototype.getGroupHierarchy=function(t){var r=this,n=[],i={};ti(this.roots[0],i,n);var o=this.allEdges();return o.forEach(function(s){var a=r.modules[s.source],u=r.modules[s.target];t.push(new gr(typeof a.gid=="undefined"?s.source:n[a.gid],typeof u.gid=="undefined"?s.target:n[u.gid],s.type))}),n},e.prototype.allEdges=function(){var t=[];return e.getEdges(this.roots[0],t),t},e.getEdges=function(t,r){t.forAll(function(n){n.getEdges(r),e.getEdges(n.children,r)})},e}();ft.Configuration=ei;function ti(e,t,r){e.forAll(function(n){if(n.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(n.id);else{var i=t;if(n.gid=r.length,!n.isIsland()||n.isPredefined()){if(i={id:n.gid},n.isPredefined())for(var o in n.definition)i[o]=n.definition[o];t.groups||(t.groups=[]),t.groups.push(n.gid),r.push(i)}ti(n.children,i,r)}})}var Dt=function(){function e(t,r,n,i,o){r===void 0&&(r=new Tt),n===void 0&&(n=new Tt),i===void 0&&(i=new xt),this.id=t,this.outgoing=r,this.incoming=n,this.children=i,this.definition=o}return e.prototype.getEdges=function(t){var r=this;this.outgoing.forAll(function(n,i){n.forAll(function(o){t.push(new gr(r.id,o.id,i))})})},e.prototype.isLeaf=function(){return this.children.count()===0},e.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},e.prototype.isPredefined=function(){return typeof this.definition!="undefined"},e}();ft.Module=Dt;function Go(e,t){var r={};for(var n in e)n in t&&(r[n]=e[n]);return r}var xt=function(){function e(){this.table={}}return e.prototype.count=function(){return Object.keys(this.table).length},e.prototype.intersection=function(t){var r=new e;return r.table=Go(this.table,t.table),r},e.prototype.intersectionCount=function(t){return this.intersection(t).count()},e.prototype.contains=function(t){return t in this.table},e.prototype.add=function(t){this.table[t.id]=t},e.prototype.remove=function(t){delete this.table[t.id]},e.prototype.forAll=function(t){for(var r in this.table)t(this.table[r])},e.prototype.modules=function(){var t=[];return this.forAll(function(r){r.isPredefined()||t.push(r)}),t},e}();ft.ModuleSet=xt;var Tt=function(){function e(){this.sets={},this.n=0}return e.prototype.count=function(){return this.n},e.prototype.contains=function(t){var r=!1;return this.forAllModules(function(n){!r&&n.id==t&&(r=!0)}),r},e.prototype.add=function(t,r){var n=t in this.sets?this.sets[t]:this.sets[t]=new xt;n.add(r),++this.n},e.prototype.remove=function(t,r){var n=this.sets[t];n.remove(r),n.count()===0&&delete this.sets[t],--this.n},e.prototype.forAll=function(t){for(var r in this.sets)t(this.sets[r],Number(r))},e.prototype.forAllModules=function(t){this.forAll(function(r,n){return r.forAll(t)})},e.prototype.intersection=function(t){var r=new e;return this.forAll(function(n,i){if(i in t.sets){var o=n.intersection(t.sets[i]),s=o.count();s>0&&(r.sets[i]=o,r.n+=s)}}),r},e}();ft.LinkSets=Tt;function Ho(e,t,r,n){for(var i=e.length,o=new ei(i,t,r,n);o.greedyMerge(););var s=[],a=o.getGroupHierarchy(s);return s.forEach(function(u){var l=function(f){var c=u[f];typeof c=="number"&&(u[f]=e[c])};l("source"),l("target")}),{groups:a,powerEdges:s}}ft.getGroups=Ho});var ge=O(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});function ri(e,t){var r={};for(var n in e)r[n]={};for(var n in t)r[n]={};return Object.keys(r).length}function ni(e,t){var r=0;for(var n in e)typeof t[n]!="undefined"&&++r;return r}function Vo(e,t){var r={},n=function(i,o){typeof r[i]=="undefined"&&(r[i]={}),r[i][o]={}};return e.forEach(function(i){var o=t.getSourceIndex(i),s=t.getTargetIndex(i);n(o,s),n(s,o)}),r}function ii(e,t,r,n){var i=Vo(e,n);e.forEach(function(o){var s=i[n.getSourceIndex(o)],a=i[n.getTargetIndex(o)];n.setLength(o,1+t*r(s,a))})}function Uo(e,t,r){r===void 0&&(r=1),ii(e,r,function(n,i){return Math.sqrt(ri(n,i)-ni(n,i))},t)}bt.symmetricDiffLinkLengths=Uo;function Xo(e,t,r){r===void 0&&(r=1),ii(e,r,function(n,i){return Math.min(Object.keys(n).length,Object.keys(i).length)<1.1?0:ni(n,i)/ri(n,i)},t)}bt.jaccardLinkLengths=Xo;function Yo(e,t,r,n){var i=oi(e,t,n),o={};i.forEach(function(a,u){return a.forEach(function(l){return o[l]=u})});var s=[];return t.forEach(function(a){var u=n.getSourceIndex(a),l=n.getTargetIndex(a),f=o[u],c=o[l];f!==c&&s.push({axis:r,left:u,right:l,gap:n.getMinSeparation(a)})}),s}bt.generateDirectedEdgeConstraints=Yo;function oi(e,t,r){var n=[],i=0,o=[],s=[];function a(g){g.index=g.lowlink=i++,o.push(g),g.onStack=!0;for(var x=0,w=g.out;x<w.length;x++){var k=w[x];typeof k.index=="undefined"?(a(k),g.lowlink=Math.min(g.lowlink,k.lowlink)):k.onStack&&(g.lowlink=Math.min(g.lowlink,k.index))}if(g.lowlink===g.index){for(var b=[];o.length&&(k=o.pop(),k.onStack=!1,b.push(k),k!==g););s.push(b.map(function(_){return _.id}))}}for(var u=0;u<e;u++)n.push({id:u,out:[]});for(var l=0,f=t;l<f.length;l++){var c=f[l],h=n[r.getSourceIndex(c)],p=n[r.getTargetIndex(c)];h.out.push(p)}for(var v=0,d=n;v<d.length;v++){var m=d[v];typeof m.index=="undefined"&&a(m)}return s}bt.stronglyConnectedComponents=oi});var ve=O(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});var si=function(){function e(){this.locks={}}return e.prototype.add=function(t,r){this.locks[t]=r},e.prototype.clear=function(){this.locks={}},e.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},e.prototype.apply=function(t){for(var r in this.locks)t(Number(r),this.locks[r])},e}();Rt.Locks=si;var Ko=function(){function e(t,r,n){n===void 0&&(n=null),this.D=r,this.G=n,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new ai,this.project=null,this.x=t,this.k=t.length;var i=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new si,this.minD=Number.MAX_VALUE;for(var o=i,s;o--;)for(s=i;--s>o;){var a=r[o][s];a>0&&a<this.minD&&(this.minD=a)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),o=this.k;o--;){for(this.g[o]=new Array(i),this.H[o]=new Array(i),s=i;s--;)this.H[o][s]=new Array(i);this.Hd[o]=new Array(i),this.a[o]=new Array(i),this.b[o]=new Array(i),this.c[o]=new Array(i),this.d[o]=new Array(i),this.e[o]=new Array(i),this.ia[o]=new Array(i),this.ib[o]=new Array(i),this.xtmp[o]=new Array(i)}}return e.createSquareMatrix=function(t,r){for(var n=new Array(t),i=0;i<t;++i){n[i]=new Array(t);for(var o=0;o<t;++o)n[i][o]=r(i,o)}return n},e.prototype.offsetDir=function(){for(var t=this,r=new Array(this.k),n=0,i=0;i<this.k;++i){var o=r[i]=this.random.getNextBetween(.01,1)-.5;n+=o*o}return n=Math.sqrt(n),r.map(function(s){return s*=t.minD/n})},e.prototype.computeDerivatives=function(t){var r=this,n=this.n;if(!(n<1)){for(var i,o=new Array(this.k),s=new Array(this.k),a=new Array(this.k),u=0,l=0;l<n;++l){for(i=0;i<this.k;++i)a[i]=this.g[i][l]=0;for(var f=0;f<n;++f)if(l!==f){for(var c=n;c--;){var h=0;for(i=0;i<this.k;++i){var p=o[i]=t[i][l]-t[i][f];h+=s[i]=p*p}if(h>1e-9)break;var v=this.offsetDir();for(i=0;i<this.k;++i)t[i][f]+=v[i]}var d=Math.sqrt(h),m=this.D[l][f],g=this.G!=null?this.G[l][f]:1;if(g>1&&d>m||!isFinite(m)){for(i=0;i<this.k;++i)this.H[i][l][f]=0;continue}g>1&&(g=1);var x=m*m,w=2*g*(d-m)/(x*d),k=d*d*d,b=2*-g/(x*k);for(isFinite(w)||console.log(w),i=0;i<this.k;++i)this.g[i][l]+=o[i]*w,a[i]-=this.H[i][l][f]=b*(k+m*(s[i]-h)+d*h)}for(i=0;i<this.k;++i)u=Math.max(u,this.H[i][l][l]=a[i])}for(var _=this.snapGridSize/2,M=this.snapGridSize,E=this.snapStrength,C=E/(_*_),S=this.numGridSnapNodes,l=0;l<S;++l)for(i=0;i<this.k;++i){var y=this.x[i][l],P=y/M,A=P%1,I=P-A,F=Math.abs(A),p=F<=.5?y-I*M:y>0?y-(I+1)*M:y-(I-1)*M;-_<p&&p<=_&&(this.scaleSnapByMaxH?(this.g[i][l]+=u*C*p,this.H[i][l][l]+=u*C):(this.g[i][l]+=C*p,this.H[i][l][l]+=C))}this.locks.isEmpty()||this.locks.apply(function(U,et){for(i=0;i<r.k;++i)r.H[i][U][U]+=u,r.g[i][U]-=u*(et[i]-t[i][U])})}},e.dotProd=function(t,r){for(var n=0,i=t.length;i--;)n+=t[i]*r[i];return n},e.rightMultiply=function(t,r,n){for(var i=t.length;i--;)n[i]=e.dotProd(t[i],r)},e.prototype.computeStepSize=function(t){for(var r=0,n=0,i=0;i<this.k;++i)r+=e.dotProd(this.g[i],t[i]),e.rightMultiply(this.H[i],t[i],this.Hd[i]),n+=e.dotProd(t[i],this.Hd[i]);return n===0||!isFinite(n)?0:1*r/n},e.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),r=0;r<this.k;++r)this.takeDescentStep(this.x[r],this.g[r],t);return this.computeStress()},e.copy=function(t,r){for(var n=t.length,i=r[0].length,o=0;o<n;++o)for(var s=0;s<i;++s)r[o][s]=t[o][s]},e.prototype.stepAndProject=function(t,r,n,i){e.copy(t,r),this.takeDescentStep(r[0],n[0],i),this.project&&this.project[0](t[0],t[1],r[0]),this.takeDescentStep(r[1],n[1],i),this.project&&this.project[1](r[0],t[1],r[1]);for(var o=2;o<this.k;o++)this.takeDescentStep(r[o],n[o],i)},e.mApply=function(t,r,n){for(var i=t;i-- >0;)for(var o=r;o-- >0;)n(i,o)},e.prototype.matrixApply=function(t){e.mApply(this.k,this.n,t)},e.prototype.computeNextPosition=function(t,r){var n=this;this.computeDerivatives(t);var i=this.computeStepSize(this.g);if(this.stepAndProject(t,r,this.g,i),this.project){this.matrixApply(function(s,a){return n.e[s][a]=t[s][a]-r[s][a]});var o=this.computeStepSize(this.e);o=Math.max(.2,Math.min(o,1)),this.stepAndProject(t,r,this.e,o)}},e.prototype.run=function(t){for(var r=Number.MAX_VALUE,n=!1;!n&&t-- >0;){var i=this.rungeKutta();n=Math.abs(r/i-1)<this.threshold,r=i}return r},e.prototype.rungeKutta=function(){var t=this;this.computeNextPosition(this.x,this.a),e.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),e.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var r=0;return this.matrixApply(function(n,i){var o=(t.a[n][i]+2*t.b[n][i]+2*t.c[n][i]+t.d[n][i])/6,s=t.x[n][i]-o;r+=s*s,t.x[n][i]=o}),r},e.mid=function(t,r,n){e.mApply(t.length,t[0].length,function(i,o){return n[i][o]=t[i][o]+(r[i][o]-t[i][o])/2})},e.prototype.takeDescentStep=function(t,r,n){for(var i=0;i<this.n;++i)t[i]=t[i]-n*r[i]},e.prototype.computeStress=function(){for(var t=0,r=0,n=this.n-1;r<n;++r)for(var i=r+1,o=this.n;i<o;++i){for(var s=0,a=0;a<this.k;++a){var u=this.x[a][r]-this.x[a][i];s+=u*u}s=Math.sqrt(s);var l=this.D[r][i];if(!!isFinite(l)){var f=l-s,c=l*l;t+=f*f/c}}return t},e.zeroDistance=1e-10,e}();Rt.Descent=Ko;var ai=function(){function e(t){t===void 0&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return e.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},e.prototype.getNextBetween=function(t,r){return t+this.getNext()*(r-t)},e}();Rt.PseudoRandom=ai});var _e=O(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});var ui=function(){function e(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return e.prototype.addVariable=function(t){var r=this.scale/t.scale,n=t.offset/t.scale,i=t.weight;this.AB+=i*r*n,this.AD+=i*r*t.desiredPosition,this.A2+=i*r*r},e.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},e}();nt.PositionStats=ui;var me=function(){function e(t,r,n,i){i===void 0&&(i=!1),this.left=t,this.right=r,this.gap=n,this.equality=i,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=r,this.gap=n,this.equality=i}return e.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},e}();nt.Constraint=me;var ye=function(){function e(t,r,n){r===void 0&&(r=1),n===void 0&&(n=1),this.desiredPosition=t,this.weight=r,this.scale=n,this.offset=0}return e.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},e.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},e.prototype.visitNeighbours=function(t,r){var n=function(i,o){return i.active&&t!==o&&r(i,o)};this.cOut.forEach(function(i){return n(i,i.right)}),this.cIn.forEach(function(i){return n(i,i.left)})},e}();nt.Variable=ye;var mr=function(){function e(t){this.vars=[],t.offset=0,this.ps=new ui(t.scale),this.addVariable(t)}return e.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},e.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,r=this.vars.length;t<r;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},e.prototype.compute_lm=function(t,r,n){var i=this,o=t.dfdv();return t.visitNeighbours(r,function(s,a){var u=i.compute_lm(a,t,n);a===s.right?(o+=u*s.left.scale,s.lm=u):(o+=u*s.right.scale,s.lm=-u),n(s)}),o/t.scale},e.prototype.populateSplitBlock=function(t,r){var n=this;t.visitNeighbours(r,function(i,o){o.offset=t.offset+(o===i.right?i.gap:-i.gap),n.addVariable(o),n.populateSplitBlock(o,t)})},e.prototype.traverse=function(t,r,n,i){var o=this;n===void 0&&(n=this.vars[0]),i===void 0&&(i=null),n.visitNeighbours(i,function(s,a){r.push(t(s)),o.traverse(t,r,a,n)})},e.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,function(r){!r.equality&&(t===null||r.lm<t.lm)&&(t=r)}),t},e.prototype.findMinLMBetween=function(t,r){this.compute_lm(t,null,function(){});var n=null;return this.findPath(t,null,r,function(i,o){!i.equality&&i.right===o&&(n===null||i.lm<n.lm)&&(n=i)}),n},e.prototype.findPath=function(t,r,n,i){var o=this,s=!1;return t.visitNeighbours(r,function(a,u){!s&&(u===n||o.findPath(u,t,n,i))&&(s=!0,i(a,u))}),s},e.prototype.isActiveDirectedPathBetween=function(t,r){if(t===r)return!0;for(var n=t.cOut.length;n--;){var i=t.cOut[n];if(i.active&&this.isActiveDirectedPathBetween(i.right,r))return!0}return!1},e.split=function(t){return t.active=!1,[e.createSplitBlock(t.left),e.createSplitBlock(t.right)]},e.createSplitBlock=function(t){var r=new e(t);return r.populateSplitBlock(t,null),r},e.prototype.splitBetween=function(t,r){var n=this.findMinLMBetween(t,r);if(n!==null){var i=e.split(n);return{constraint:n,lb:i[0],rb:i[1]}}return null},e.prototype.mergeAcross=function(t,r,n){r.active=!0;for(var i=0,o=t.vars.length;i<o;++i){var s=t.vars[i];s.offset+=n,this.addVariable(s)}this.posn=this.ps.getPosn()},e.prototype.cost=function(){for(var t=0,r=this.vars.length;r--;){var n=this.vars[r],i=n.position()-n.desiredPosition;t+=i*i*n.weight}return t},e}();nt.Block=mr;var _r=function(){function e(t){this.vs=t;var r=t.length;for(this.list=new Array(r);r--;){var n=new mr(t[r]);this.list[r]=n,n.blockInd=r}}return e.prototype.cost=function(){for(var t=0,r=this.list.length;r--;)t+=this.list[r].cost();return t},e.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},e.prototype.remove=function(t){var r=this.list.length-1,n=this.list[r];this.list.length=r,t!==n&&(this.list[t.blockInd]=n,n.blockInd=t.blockInd)},e.prototype.merge=function(t){var r=t.left.block,n=t.right.block,i=t.right.offset-t.left.offset-t.gap;r.vars.length<n.vars.length?(n.mergeAcross(r,t,i),this.remove(r)):(r.mergeAcross(n,t,-i),this.remove(n))},e.prototype.forEach=function(t){this.list.forEach(t)},e.prototype.updateBlockPositions=function(){this.list.forEach(function(t){return t.updateWeightedPosition()})},e.prototype.split=function(t){var r=this;this.updateBlockPositions(),this.list.forEach(function(n){var i=n.findMinLM();i!==null&&i.lm<yr.LAGRANGIAN_TOLERANCE&&(n=i.left.block,mr.split(i).forEach(function(o){return r.insert(o)}),r.remove(n),t.push(i))})},e}();nt.Blocks=_r;var yr=function(){function e(t,r){this.vs=t,this.cs=r,this.vs=t,t.forEach(function(n){n.cIn=[],n.cOut=[]}),this.cs=r,r.forEach(function(n){n.left.cOut.push(n),n.right.cIn.push(n)}),this.inactive=r.map(function(n){return n.active=!1,n}),this.bs=null}return e.prototype.cost=function(){return this.bs.cost()},e.prototype.setStartingPositions=function(t){this.inactive=this.cs.map(function(r){return r.active=!1,r}),this.bs=new _r(this.vs),this.bs.forEach(function(r,n){return r.posn=t[n]})},e.prototype.setDesiredPositions=function(t){this.vs.forEach(function(r,n){return r.desiredPosition=t[n]})},e.prototype.mostViolated=function(){for(var t=Number.MAX_VALUE,r=null,n=this.inactive,i=n.length,o=i,s=0;s<i;++s){var a=n[s];if(!a.unsatisfiable){var u=a.slack();if((a.equality||u<t)&&(t=u,r=a,o=s,a.equality))break}}return o!==i&&(t<e.ZERO_UPPERBOUND&&!r.active||r.equality)&&(n[o]=n[i-1],n.length=i-1),r},e.prototype.satisfy=function(){this.bs==null&&(this.bs=new _r(this.vs)),this.bs.split(this.inactive);for(var t=null;(t=this.mostViolated())&&(t.equality||t.slack()<e.ZERO_UPPERBOUND&&!t.active);){var r=t.left.block,n=t.right.block;if(r!==n)this.bs.merge(t);else{if(r.isActiveDirectedPathBetween(t.right,t.left)){t.unsatisfiable=!0;continue}var i=r.splitBetween(t.left,t.right);if(i!==null)this.bs.insert(i.lb),this.bs.insert(i.rb),this.bs.remove(r),this.inactive.push(i.constraint);else{t.unsatisfiable=!0;continue}t.slack()>=0?this.inactive.push(t):this.bs.merge(t)}}},e.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,r=this.bs.cost();Math.abs(t-r)>1e-4;)this.satisfy(),t=r,r=this.bs.cost();return r},e.LAGRANGIAN_TOLERANCE=-1e-4,e.ZERO_UPPERBOUND=-1e-10,e}();nt.Solver=yr;function $o(e,t,r){for(var n=e.map(function(m){return new ye(m.desiredCenter)}),i=[],o=e.length,s=0;s<o-1;s++){var a=e[s],u=e[s+1];i.push(new me(n[s],n[s+1],(a.size+u.size)/2))}var l=n[0],f=n[o-1],c=e[0].size/2,h=e[o-1].size/2,p=null,v=null;t&&(p=new ye(t,l.weight*1e3),n.push(p),i.push(new me(p,l,c))),r&&(v=new ye(r,f.weight*1e3),n.push(v),i.push(new me(f,v,h)));var d=new yr(n,i);return d.solve(),{newCenters:n.slice(0,e.length).map(function(m){return m.position()}),lowerBound:p?p.position():l.position()-c,upperBound:v?v.position():f.position()+h}}nt.removeOverlapInOneDimension=$o});var xr=O(gt=>{"use strict";var Wo=gt&&gt.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(gt,"__esModule",{value:!0});var li=function(){function e(){this.findIter=function(t){for(var r=this._root,n=this.iterator();r!==null;){var i=this._comparator(t,r.data);if(i===0)return n._cursor=r,n;n._ancestors.push(r),r=r.get_child(i>0)}return null}}return e.prototype.clear=function(){this._root=null,this.size=0},e.prototype.find=function(t){for(var r=this._root;r!==null;){var n=this._comparator(t,r.data);if(n===0)return r.data;r=r.get_child(n>0)}return null},e.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},e.prototype.upperBound=function(t){var r=this._comparator;function n(i,o){return r(o,i)}return this._bound(t,n)},e.prototype.min=function(){var t=this._root;if(t===null)return null;for(;t.left!==null;)t=t.left;return t.data},e.prototype.max=function(){var t=this._root;if(t===null)return null;for(;t.right!==null;)t=t.right;return t.data},e.prototype.iterator=function(){return new fi(this)},e.prototype.each=function(t){for(var r=this.iterator(),n;(n=r.next())!==null;)t(n)},e.prototype.reach=function(t){for(var r=this.iterator(),n;(n=r.prev())!==null;)t(n)},e.prototype._bound=function(t,r){for(var n=this._root,i=this.iterator();n!==null;){var o=this._comparator(t,n.data);if(o===0)return i._cursor=n,i;i._ancestors.push(n),n=n.get_child(o>0)}for(var s=i._ancestors.length-1;s>=0;--s)if(n=i._ancestors[s],r(t,n.data)>0)return i._cursor=n,i._ancestors.length=s,i;return i._ancestors.length=0,i},e}();gt.TreeBase=li;var fi=function(){function e(t){this._tree=t,this._ancestors=[],this._cursor=null}return e.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},e.prototype.next=function(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._minNode(t)}else if(this._cursor.right===null){var r;do if(r=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===r)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},e.prototype.prev=function(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._maxNode(t)}else if(this._cursor.left===null){var r;do if(r=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===r)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},e.prototype._minNode=function(t){for(;t.left!==null;)this._ancestors.push(t),t=t.left;this._cursor=t},e.prototype._maxNode=function(t){for(;t.right!==null;)this._ancestors.push(t),t=t.right;this._cursor=t},e}();gt.Iterator=fi;var xe=function(){function e(t){this.data=t,this.left=null,this.right=null,this.red=!0}return e.prototype.get_child=function(t){return t?this.right:this.left},e.prototype.set_child=function(t,r){t?this.right=r:this.left=r},e}(),Qo=function(e){Wo(t,e);function t(r){var n=e.call(this)||this;return n._root=null,n._comparator=r,n.size=0,n}return t.prototype.insert=function(r){var n=!1;if(this._root===null)this._root=new xe(r),n=!0,this.size++;else{var i=new xe(void 0),o=!1,s=!1,a=null,u=i,l=null,f=this._root;for(u.right=this._root;;){if(f===null?(f=new xe(r),l.set_child(o,f),n=!0,this.size++):t.is_red(f.left)&&t.is_red(f.right)&&(f.red=!0,f.left.red=!1,f.right.red=!1),t.is_red(f)&&t.is_red(l)){var c=u.right===a;f===l.get_child(s)?u.set_child(c,t.single_rotate(a,!s)):u.set_child(c,t.double_rotate(a,!s))}var h=this._comparator(f.data,r);if(h===0)break;s=o,o=h<0,a!==null&&(u=a),a=l,l=f,f=f.get_child(o)}this._root=i.right}return this._root.red=!1,n},t.prototype.remove=function(r){if(this._root===null)return!1;var n=new xe(void 0),i=n;i.right=this._root;for(var o=null,s=null,a=null,u=!0;i.get_child(u)!==null;){var l=u;s=o,o=i,i=i.get_child(u);var f=this._comparator(r,i.data);if(u=f>0,f===0&&(a=i),!t.is_red(i)&&!t.is_red(i.get_child(u))){if(t.is_red(i.get_child(!u))){var c=t.single_rotate(i,u);o.set_child(l,c),o=c}else if(!t.is_red(i.get_child(!u))){var h=o.get_child(!l);if(h!==null)if(!t.is_red(h.get_child(!l))&&!t.is_red(h.get_child(l)))o.red=!1,h.red=!0,i.red=!0;else{var p=s.right===o;t.is_red(h.get_child(l))?s.set_child(p,t.double_rotate(o,l)):t.is_red(h.get_child(!l))&&s.set_child(p,t.single_rotate(o,l));var v=s.get_child(p);v.red=!0,i.red=!0,v.left.red=!1,v.right.red=!1}}}}return a!==null&&(a.data=i.data,o.set_child(o.right===i,i.get_child(i.left===null)),this.size--),this._root=n.right,this._root!==null&&(this._root.red=!1),a!==null},t.is_red=function(r){return r!==null&&r.red},t.single_rotate=function(r,n){var i=r.get_child(!n);return r.set_child(!n,i.get_child(n)),i.set_child(n,r),r.red=!0,i.red=!1,i},t.double_rotate=function(r,n){return r.set_child(!n,t.single_rotate(r.get_child(!n),!n)),t.single_rotate(r,n)},t}(li);gt.RBTree=Qo});var wt=O(R=>{"use strict";var Jo=R&&R.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(R,"__esModule",{value:!0});var it=_e(),Zo=xr();function qt(e){return e.bounds=typeof e.leaves!="undefined"?e.leaves.reduce(function(t,r){return r.bounds.union(t)},lt.empty()):lt.empty(),typeof e.groups!="undefined"&&(e.bounds=e.groups.reduce(function(t,r){return qt(r).union(t)},e.bounds)),e.bounds=e.bounds.inflate(e.padding),e.bounds}R.computeGroupBounds=qt;var lt=function(){function e(t,r,n,i){this.x=t,this.X=r,this.y=n,this.Y=i}return e.empty=function(){return new e(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},e.prototype.cx=function(){return(this.x+this.X)/2},e.prototype.cy=function(){return(this.y+this.Y)/2},e.prototype.overlapX=function(t){var r=this.cx(),n=t.cx();return r<=n&&t.x<this.X?this.X-t.x:n<=r&&this.x<t.X?t.X-this.x:0},e.prototype.overlapY=function(t){var r=this.cy(),n=t.cy();return r<=n&&t.y<this.Y?this.Y-t.y:n<=r&&this.y<t.Y?t.Y-this.y:0},e.prototype.setXCentre=function(t){var r=t-this.cx();this.x+=r,this.X+=r},e.prototype.setYCentre=function(t){var r=t-this.cy();this.y+=r,this.Y+=r},e.prototype.width=function(){return this.X-this.x},e.prototype.height=function(){return this.Y-this.y},e.prototype.union=function(t){return new e(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))},e.prototype.lineIntersections=function(t,r,n,i){for(var o=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],s=[],a=0;a<4;++a){var u=e.lineIntersection(t,r,n,i,o[a][0],o[a][1],o[a][2],o[a][3]);u!==null&&s.push({x:u.x,y:u.y})}return s},e.prototype.rayIntersection=function(t,r){var n=this.lineIntersections(this.cx(),this.cy(),t,r);return n.length>0?n[0]:null},e.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},e.lineIntersection=function(t,r,n,i,o,s,a,u){var l=n-t,f=a-o,c=i-r,h=u-s,p=h*l-f*c;if(p==0)return null;var v=t-o,d=r-s,m=f*d-h*v,g=m/p,x=l*d-c*v,w=x/p;return g>=0&&g<=1&&w>=0&&w<=1?{x:t+g*l,y:r+g*c}:null},e.prototype.inflate=function(t){return new e(this.x-t,this.X+t,this.y-t,this.Y+t)},e}();R.Rectangle=lt;function ts(e,t,r){var n=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},i=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},o=i.x-n.x,s=i.y-n.y,a=Math.sqrt(o*o+s*s),u=a-r;return{sourceIntersection:n,targetIntersection:i,arrowStart:{x:n.x+u*o/a,y:n.y+u*s/a}}}R.makeEdgeBetween=ts;function es(e,t,r){var n=t.rayIntersection(e.x,e.y);n||(n={x:t.cx(),y:t.cy()});var i=n.x-e.x,o=n.y-e.y,s=Math.sqrt(i*i+o*o);return{x:n.x-r*i/s,y:n.y-r*o/s}}R.makeEdgeTo=es;var rs=function(){function e(t,r,n){this.v=t,this.r=r,this.pos=n,this.prev=br(),this.next=br()}return e}(),ci=function(){function e(t,r,n){this.isOpen=t,this.v=r,this.pos=n}return e}();function ns(e,t){return e.pos>t.pos?1:e.pos<t.pos||e.isOpen?-1:t.isOpen?1:0}function br(){return new Zo.RBTree(function(e,t){return e.pos-t.pos})}var hi={getCentre:function(e){return e.cx()},getOpen:function(e){return e.y},getClose:function(e){return e.Y},getSize:function(e){return e.width()},makeRect:function(e,t,r,n){return new lt(r-n/2,r+n/2,e,t)},findNeighbours:is},pi={getCentre:function(e){return e.cy()},getOpen:function(e){return e.x},getClose:function(e){return e.X},getSize:function(e){return e.height()},makeRect:function(e,t,r,n){return new lt(e,t,r-n/2,r+n/2)},findNeighbours:os};function wr(e,t,r,n){n===void 0&&(n=!1);var i=e.padding,o=typeof e.groups!="undefined"?e.groups.length:0,s=typeof e.leaves!="undefined"?e.leaves.length:0,a=o?e.groups.reduce(function(b,_){return b.concat(wr(_,t,r,!0))},[]):[],u=(n?2:0)+s+o,l=new Array(u),f=new Array(u),c=0,h=function(b,_){f[c]=b,l[c++]=_};if(n){var p=e.bounds,v=t.getCentre(p),d=t.getSize(p)/2,m=t.getOpen(p),g=t.getClose(p),x=v-d+i/2,w=v+d-i/2;e.minVar.desiredPosition=x,h(t.makeRect(m,g,x,i),e.minVar),e.maxVar.desiredPosition=w,h(t.makeRect(m,g,w,i),e.maxVar)}s&&e.leaves.forEach(function(b){return h(b.bounds,b.variable)}),o&&e.groups.forEach(function(b){var _=b.bounds;h(t.makeRect(t.getOpen(_),t.getClose(_),t.getCentre(_),t.getSize(_)),b.minVar)});var k=kr(f,l,t,r);return o&&(l.forEach(function(b){b.cOut=[],b.cIn=[]}),k.forEach(function(b){b.left.cOut.push(b),b.right.cIn.push(b)}),e.groups.forEach(function(b){var _=(b.padding-t.getSize(b.bounds))/2;b.minVar.cIn.forEach(function(M){return M.gap+=_}),b.minVar.cOut.forEach(function(M){M.left=b.maxVar,M.gap+=_})})),a.concat(k)}function kr(e,t,r,n){var i,o=e.length,s=2*o;console.assert(t.length>=o);var a=new Array(s);for(i=0;i<o;++i){var u=e[i],l=new rs(t[i],u,r.getCentre(u));a[i]=new ci(!0,l,r.getOpen(u)),a[i+o]=new ci(!1,l,r.getClose(u))}a.sort(ns);var f=new Array,c=br();for(i=0;i<s;++i){var h=a[i],l=h.v;if(h.isOpen)c.insert(l),r.findNeighbours(l,c);else{c.remove(l);var p=function(m,g){var x=(r.getSize(m.r)+r.getSize(g.r))/2+n;f.push(new it.Constraint(m.v,g.v,x))},v=function(m,g,x){for(var w,k=l[m].iterator();(w=k[m]())!==null;)x(w,l),w[g].remove(l)};v("prev","next",function(m,g){return p(m,g)}),v("next","prev",function(m,g){return p(g,m)})}}return console.assert(c.size===0),f}function is(e,t){var r=function(n,i){for(var o=t.findIter(e),s;(s=o[n]())!==null;){var a=s.r.overlapX(e.r);if((a<=0||a<=s.r.overlapY(e.r))&&(e[n].insert(s),s[i].insert(e)),a<=0)break}};r("next","prev"),r("prev","next")}function os(e,t){var r=function(n,i){var o=t.findIter(e)[n]();o!==null&&o.r.overlapX(e.r)>0&&(e[n].insert(o),o[i].insert(e))};r("next","prev"),r("prev","next")}function di(e,t){return kr(e,t,hi,1e-6)}R.generateXConstraints=di;function gi(e,t){return kr(e,t,pi,1e-6)}R.generateYConstraints=gi;function vi(e){return wr(e,hi,1e-6)}R.generateXGroupConstraints=vi;function mi(e){return wr(e,pi,1e-6)}R.generateYGroupConstraints=mi;function ss(e){var t=e.map(function(i){return new it.Variable(i.cx())}),r=di(e,t),n=new it.Solver(t,r);n.solve(),t.forEach(function(i,o){return e[o].setXCentre(i.position())}),t=e.map(function(i){return new it.Variable(i.cy())}),r=gi(e,t),n=new it.Solver(t,r),n.solve(),t.forEach(function(i,o){return e[o].setYCentre(i.position())})}R.removeOverlaps=ss;var be=function(e){Jo(t,e);function t(r,n){var i=e.call(this,0,n)||this;return i.index=r,i}return t}(it.Variable);R.IndexedVariable=be;var as=function(){function e(t,r,n,i,o){var s=this;if(n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!1),this.nodes=t,this.groups=r,this.rootGroup=n,this.avoidOverlaps=o,this.variables=t.map(function(u,l){return u.variable=new be(l,1)}),i&&this.createConstraints(i),o&&n&&typeof n.groups!="undefined"){t.forEach(function(u){if(!u.width||!u.height){u.bounds=new lt(u.x,u.x,u.y,u.y);return}var l=u.width/2,f=u.height/2;u.bounds=new lt(u.x-l,u.x+l,u.y-f,u.y+f)}),qt(n);var a=t.length;r.forEach(function(u){s.variables[a]=u.minVar=new be(a++,typeof u.stiffness!="undefined"?u.stiffness:.01),s.variables[a]=u.maxVar=new be(a++,typeof u.stiffness!="undefined"?u.stiffness:.01)})}}return e.prototype.createSeparation=function(t){return new it.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,typeof t.equality!="undefined"?t.equality:!1)},e.prototype.makeFeasible=function(t){var r=this;if(!!this.avoidOverlaps){var n="x",i="width";t.axis==="x"&&(n="y",i="height");var o=t.offsets.map(function(a){return r.nodes[a.node]}).sort(function(a,u){return a[n]-u[n]}),s=null;o.forEach(function(a){if(s){var u=s[n]+s[i];u>a[n]&&(a[n]=u)}s=a})}},e.prototype.createAlignment=function(t){var r=this,n=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var i=t.axis==="x"?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach(function(o){var s=r.nodes[o.node].variable;i.push(new it.Constraint(n,s,o.offset,!0))})},e.prototype.createConstraints=function(t){var r=this,n=function(i){return typeof i.type=="undefined"||i.type==="separation"};this.xConstraints=t.filter(function(i){return i.axis==="x"&&n(i)}).map(function(i){return r.createSeparation(i)}),this.yConstraints=t.filter(function(i){return i.axis==="y"&&n(i)}).map(function(i){return r.createSeparation(i)}),t.filter(function(i){return i.type==="alignment"}).forEach(function(i){return r.createAlignment(i)})},e.prototype.setupVariablesAndBounds=function(t,r,n,i){this.nodes.forEach(function(o,s){o.fixed?(o.variable.weight=o.fixedWeight?o.fixedWeight:1e3,n[s]=i(o)):o.variable.weight=1;var a=(o.width||0)/2,u=(o.height||0)/2,l=t[s],f=r[s];o.bounds=new lt(l-a,l+a,f-u,f+u)})},e.prototype.xProject=function(t,r,n){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(t,r,t,n,function(i){return i.px},this.xConstraints,vi,function(i){return i.bounds.setXCentre(n[i.variable.index]=i.variable.position())},function(i){var o=n[i.minVar.index]=i.minVar.position(),s=n[i.maxVar.index]=i.maxVar.position(),a=i.padding/2;i.bounds.x=o-a,i.bounds.X=s+a})},e.prototype.yProject=function(t,r,n){!this.rootGroup&&!this.yConstraints||this.project(t,r,r,n,function(i){return i.py},this.yConstraints,mi,function(i){return i.bounds.setYCentre(n[i.variable.index]=i.variable.position())},function(i){var o=n[i.minVar.index]=i.minVar.position(),s=n[i.maxVar.index]=i.maxVar.position(),a=i.padding/2;i.bounds.y=o-a,i.bounds.Y=s+a})},e.prototype.projectFunctions=function(){var t=this;return[function(r,n,i){return t.xProject(r,n,i)},function(r,n,i){return t.yProject(r,n,i)}]},e.prototype.project=function(t,r,n,i,o,s,a,u,l){this.setupVariablesAndBounds(t,r,i,o),this.rootGroup&&this.avoidOverlaps&&(qt(this.rootGroup),s=s.concat(a(this.rootGroup))),this.solve(this.variables,s,n,i),this.nodes.forEach(u),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(l),qt(this.rootGroup))},e.prototype.solve=function(t,r,n,i){var o=new it.Solver(t,r);o.setStartingPositions(n),o.setDesiredPositions(i),o.solve()},e}();R.Projection=as});var Mr=O(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var yi=function(){function e(t){this.elem=t,this.subheaps=[]}return e.prototype.toString=function(t){for(var r="",n=!1,i=0;i<this.subheaps.length;++i){var o=this.subheaps[i];if(!o.elem){n=!1;continue}n&&(r=r+","),r=r+o.toString(t),n=!0}return r!==""&&(r="("+r+")"),(this.elem?t(this.elem):"")+r},e.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach(function(r){return r.forEach(t)}))},e.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(t,r){return t+r.count()},0)},e.prototype.min=function(){return this.elem},e.prototype.empty=function(){return this.elem==null},e.prototype.contains=function(t){if(this===t)return!0;for(var r=0;r<this.subheaps.length;r++)if(this.subheaps[r].contains(t))return!0;return!1},e.prototype.isHeap=function(t){var r=this;return this.subheaps.every(function(n){return t(r.elem,n.elem)&&n.isHeap(t)})},e.prototype.insert=function(t,r){return this.merge(new e(t),r)},e.prototype.merge=function(t,r){return this.empty()?t:t.empty()?this:r(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},e.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},e.prototype.mergePairs=function(t){if(this.subheaps.length==0)return new e(null);if(this.subheaps.length==1)return this.subheaps[0];var r=this.subheaps.pop().merge(this.subheaps.pop(),t),n=this.mergePairs(t);return r.merge(n,t)},e.prototype.decreaseKey=function(t,r,n,i){var o=t.removeMin(i);t.elem=o.elem,t.subheaps=o.subheaps,n!==null&&o.elem!==null&&n(t.elem,t);var s=new e(r);return n!==null&&n(r,s),this.merge(s,i)},e}();we.PairingHeap=yi;var us=function(){function e(t){this.lessThan=t}return e.prototype.top=function(){return this.empty()?null:this.root.elem},e.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n,i=0,o;o=t[i];++i)n=new yi(o),this.root=this.empty()?n:this.root.merge(n,this.lessThan);return n},e.prototype.empty=function(){return!this.root||!this.root.elem},e.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},e.prototype.forEach=function(t){this.root.forEach(t)},e.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},e.prototype.reduceKey=function(t,r,n){n===void 0&&(n=null),this.root=this.root.decreaseKey(t,r,n,this.lessThan)},e.prototype.toString=function(t){return this.root.toString(t)},e.prototype.count=function(){return this.root.count()},e}();we.PriorityQueue=us});var Ft=O(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});var _i=Mr(),xi=function(){function e(t,r){this.id=t,this.distance=r}return e}(),fs=function(){function e(t){this.id=t,this.neighbours=[]}return e}(),bi=function(){function e(t,r,n){this.node=t,this.prev=r,this.d=n}return e}(),ls=function(){function e(t,r,n,i,o){this.n=t,this.es=r,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new fs(s);for(s=this.es.length;s--;){var a=this.es[s],u=n(a),l=i(a),f=o(a);this.neighbours[u].neighbours.push(new xi(l,f)),this.neighbours[l].neighbours.push(new xi(u,f))}}return e.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),r=0;r<this.n;++r)t[r]=this.dijkstraNeighbours(r);return t},e.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},e.prototype.PathFromNodeToNode=function(t,r){return this.dijkstraNeighbours(t,r)},e.prototype.PathFromNodeToNodeWithPrevCost=function(t,r,n){var i=new _i.PriorityQueue(function(d,m){return d.d<=m.d}),o=this.neighbours[t],s=new bi(o,null,0),a={};for(i.push(s);!i.empty()&&(s=i.pop(),o=s.node,o.id!==r);)for(var u=o.neighbours.length;u--;){var l=o.neighbours[u],f=this.neighbours[l.id];if(!(s.prev&&f.id===s.prev.node.id)){var c=f.id+","+o.id;if(!(c in a&&a[c]<=s.d)){var h=s.prev?n(s.prev.node.id,o.id,f.id):0,p=s.d+l.distance+h;a[c]=p,i.push(new bi(f,s,p))}}}for(var v=[];s.prev;)s=s.prev,v.push(s.node.id);return v},e.prototype.dijkstraNeighbours=function(t,r){r===void 0&&(r=-1);for(var n=new _i.PriorityQueue(function(h,p){return h.d<=p.d}),i=this.neighbours.length,o=new Array(i);i--;){var s=this.neighbours[i];s.d=i===t?0:Number.POSITIVE_INFINITY,s.q=n.push(s)}for(;!n.empty();){var a=n.pop();if(o[a.id]=a.d,a.id===r){for(var u=[],l=a;typeof l.prev!="undefined";)u.push(l.prev.id),l=l.prev;return u}for(i=a.neighbours.length;i--;){var f=a.neighbours[i],l=this.neighbours[f.id],c=a.d+f.distance;a.d!==Number.MAX_VALUE&&l.d>c&&(l.d=c,l.prev=a,n.reduceKey(l.q,l,function(p,v){return p.q=v}))}}return o},e}();Er.Calculator=ls});var Pr=O(j=>{"use strict";var wi=j&&j.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(j,"__esModule",{value:!0});var cs=wt(),Sr=function(){function e(){}return e}();j.Point=Sr;var Nr=function(){function e(t,r,n,i){this.x1=t,this.y1=r,this.x2=n,this.y2=i}return e}();j.LineSegment=Nr;var hs=function(e){wi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Sr);j.PolyPoint=hs;function G(e,t,r){return(t.x-e.x)*(r.y-e.y)-(r.x-e.x)*(t.y-e.y)}j.isLeft=G;function W(e,t,r){return G(e,t,r)>0}function Y(e,t,r){return G(e,t,r)<0}function ps(e){var t=e.slice(0).sort(function(h,p){return h.x!==p.x?p.x-h.x:p.y-h.y}),r=e.length,n,i=0,o=t[0].x;for(n=1;n<r&&t[n].x===o;++n);var s=n-1,a=[];if(a.push(t[i]),s===r-1)t[s].y!==t[i].y&&a.push(t[s]);else{var u,l=r-1,f=t[r-1].x;for(n=r-2;n>=0&&t[n].x===f;n--);for(u=n+1,n=s;++n<=u;)if(!(G(t[i],t[u],t[n])>=0&&n<u)){for(;a.length>1&&!(G(a[a.length-2],a[a.length-1],t[n])>0);)a.length-=1;n!=i&&a.push(t[n])}l!=u&&a.push(t[l]);var c=a.length;for(n=u;--n>=s;)if(!(G(t[l],t[s],t[n])>=0&&n>s)){for(;a.length>c&&!(G(a[a.length-2],a[a.length-1],t[n])>0);)a.length-=1;n!=i&&a.push(t[n])}}return a}j.ConvexHull=ps;function ds(e,t,r){t.slice(0).sort(function(n,i){return Math.atan2(n.y-e.y,n.x-e.x)-Math.atan2(i.y-e.y,i.x-e.x)}).forEach(r)}j.clockwiseRadialSweep=ds;function gs(e,t){var r=t.slice(0);return r.push(t[0]),{rtan:ke(e,r),ltan:Me(e,r)}}function ke(e,t){var r=t.length-1,n,i,o,s,a;if(Y(e,t[1],t[0])&&!W(e,t[r-1],t[0]))return 0;for(n=0,i=r;;){if(i-n==1)return W(e,t[n],t[i])?n:i;if(o=Math.floor((n+i)/2),a=Y(e,t[o+1],t[o]),a&&!W(e,t[o-1],t[o]))return o;s=W(e,t[n+1],t[n]),s?a||W(e,t[n],t[o])?i=o:n=o:a&&Y(e,t[n],t[o])?i=o:n=o}}function Me(e,t){var r=t.length-1,n,i,o,s,a;if(W(e,t[r-1],t[0])&&!Y(e,t[1],t[0]))return 0;for(n=0,i=r;;){if(i-n==1)return Y(e,t[n],t[i])?n:i;if(o=Math.floor((n+i)/2),a=Y(e,t[o+1],t[o]),W(e,t[o-1],t[o])&&!a)return o;s=Y(e,t[n+1],t[n]),s?a?Y(e,t[n],t[o])?i=o:n=o:i=o:a?n=o:W(e,t[n],t[o])?i=o:n=o}}function Ee(e,t,r,n,i,o){var s,a;s=r(t[0],e),a=n(e[s],t);for(var u=!1;!u;){for(u=!0;s===e.length-1&&(s=0),!i(t[a],e[s],e[s+1]);)++s;for(;a===0&&(a=t.length-1),!o(e[s],t[a],t[a-1]);)--a,u=!1}return{t1:s,t2:a}}j.tangent_PolyPolyC=Ee;function vs(e,t){var r=ki(t,e);return{t1:r.t2,t2:r.t1}}j.LRtangent_PolyPolyC=vs;function ki(e,t){return Ee(e,t,ke,Me,W,Y)}j.RLtangent_PolyPolyC=ki;function ms(e,t){return Ee(e,t,Me,Me,Y,Y)}j.LLtangent_PolyPolyC=ms;function ys(e,t){return Ee(e,t,ke,ke,W,W)}j.RRtangent_PolyPolyC=ys;var Bt=function(){function e(t,r){this.t1=t,this.t2=r}return e}();j.BiTangent=Bt;var Mi=function(){function e(){}return e}();j.BiTangents=Mi;var _s=function(e){wi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Sr);j.TVGPoint=_s;var Lr=function(){function e(t,r,n,i){this.id=t,this.polyid=r,this.polyvertid=n,this.p=i,i.vv=this}return e}();j.VisibilityVertex=Lr;var Se=function(){function e(t,r){this.source=t,this.target=r}return e.prototype.length=function(){var t=this.source.p.x-this.target.p.x,r=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+r*r)},e}();j.VisibilityEdge=Se;var xs=function(){function e(t,r){if(this.P=t,this.V=[],this.E=[],r)this.V=r.V.slice(0),this.E=r.E.slice(0);else{for(var n=t.length,i=0;i<n;i++){for(var o=t[i],s=0;s<o.length;++s){var a=o[s],u=new Lr(this.V.length,i,s,a);this.V.push(u),s>0&&this.E.push(new Se(o[s-1].vv,u))}o.length>1&&this.E.push(new Se(o[0].vv,o[o.length-1].vv))}for(var i=0;i<n-1;i++)for(var l=t[i],s=i+1;s<n;s++){var f=t[s],c=Si(l,f);for(var h in c){var p=c[h],v=l[p.t1],d=f[p.t2];this.addEdgeIfVisible(v,d,i,s)}}}}return e.prototype.addEdgeIfVisible=function(t,r,n,i){this.intersectsPolys(new Nr(t.x,t.y,r.x,r.y),n,i)||this.E.push(new Se(t.vv,r.vv))},e.prototype.addPoint=function(t,r){var n=this.P.length;this.V.push(new Lr(this.V.length,n,0,t));for(var i=0;i<n;++i)if(i!==r){var o=this.P[i],s=gs(t,o);this.addEdgeIfVisible(t,o[s.ltan],r,i),this.addEdgeIfVisible(t,o[s.rtan],r,i)}return t.vv},e.prototype.intersectsPolys=function(t,r,n){for(var i=0,o=this.P.length;i<o;++i)if(i!=r&&i!=n&&Ei(t,this.P[i]).length>0)return!0;return!1},e}();j.TangentVisibilityGraph=xs;function Ei(e,t){for(var r=[],n=1,i=t.length;n<i;++n){var o=cs.Rectangle.lineIntersection(e.x1,e.y1,e.x2,e.y2,t[n-1].x,t[n-1].y,t[n].x,t[n].y);o&&r.push(o)}return r}function Si(e,t){for(var r=e.length-1,n=t.length-1,i=new Mi,o=0;o<r;++o)for(var s=0;s<n;++s){var a=e[o==0?r-1:o-1],u=e[o],l=e[o+1],f=t[s==0?n-1:s-1],c=t[s],h=t[s+1],p=G(a,u,c),v=G(u,f,c),d=G(u,c,h),m=G(f,c,u),g=G(c,a,u),x=G(c,u,l);p>=0&&v>=0&&d<0&&m>=0&&g>=0&&x<0?i.ll=new Bt(o,s):p<=0&&v<=0&&d>0&&m<=0&&g<=0&&x>0?i.rr=new Bt(o,s):p<=0&&v>0&&d<=0&&m>=0&&g<0&&x>=0?i.rl=new Bt(o,s):p>=0&&v<0&&d>=0&&m<=0&&g>0&&x<=0&&(i.lr=new Bt(o,s))}return i}j.tangents=Si;function bs(e,t){for(var r=1,n=t.length;r<n;++r)if(Y(t[r-1],t[r],e))return!1;return!0}function Ni(e,t){return!e.every(function(r){return!bs(r,t)})}function ws(e,t){if(Ni(e,t)||Ni(t,e))return!0;for(var r=1,n=e.length;r<n;++r){var i=e[r],o=e[r-1];if(Ei(new Nr(o.x,o.y,i.x,i.y),t).length>0)return!0}return!1}j.polysOverlap=ws});var Ar=O(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});var K={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};function ks(e,t,r,n,i,o){i===void 0&&(i=1),o===void 0&&(o=!0);var s=0,a=0,u=t,l=r,i=typeof i!="undefined"?i:1,n=typeof n!="undefined"?n:0,f=0,c=0,h=0,p=0,v=[];if(e.length==0)return;d(e),g(e,i),o&&m(e);function d(_){_.forEach(function(E){M(E)});function M(E){var C=Number.MAX_VALUE,S=Number.MAX_VALUE,y=0,P=0;E.array.forEach(function(A){var I=typeof A.width!="undefined"?A.width:n,F=typeof A.height!="undefined"?A.height:n;I/=2,F/=2,y=Math.max(A.x+I,y),C=Math.min(A.x-I,C),P=Math.max(A.y+F,P),S=Math.min(A.y-F,S)}),E.width=y-C,E.height=P-S}}function m(_){_.forEach(function(M){var E={x:0,y:0};M.array.forEach(function(y){E.x+=y.x,E.y+=y.y}),E.x/=M.array.length,E.y/=M.array.length;var C={x:E.x-M.width/2,y:E.y-M.height/2},S={x:M.x-C.x+u/2-f/2,y:M.y-C.y+l/2-c/2};M.array.forEach(function(y){y.x+=S.x,y.y+=S.y})})}function g(_,M){var E=Number.POSITIVE_INFINITY,C=0;_.sort(function(Xt,Yt){return Yt.height-Xt.height}),h=_.reduce(function(Xt,Yt){return Xt.width<Yt.width?Xt.width:Yt.width});for(var S=X=h,y=D=k(_),P=0,A=Number.MAX_VALUE,I=Number.MAX_VALUE,F=-1,U=Number.MAX_VALUE,et=Number.MAX_VALUE;U>h||et>K.FLOAT_EPSILON;){if(F!=1)var X=y-(y-S)/K.GOLDEN_SECTION,A=x(_,X);if(F!=0)var D=S+(y-S)/K.GOLDEN_SECTION,I=x(_,D);if(U=Math.abs(X-D),et=Math.abs(A-I),A<E&&(E=A,C=X),I<E&&(E=I,C=D),A>I?(S=X,X=D,A=I,F=1):(y=D,D=X,I=A,F=0),P++>100)break}x(_,C)}function x(_,M){v=[],f=0,c=0,p=a;for(var E=0;E<_.length;E++){var C=_[E];w(C,M)}return Math.abs(b()-i)}function w(_,M){for(var E=void 0,C=0;C<v.length;C++)if(v[C].space_left>=_.height&&v[C].x+v[C].width+_.width+K.PADDING-M<=K.FLOAT_EPSILON){E=v[C];break}v.push(_),E!==void 0?(_.x=E.x+E.width+K.PADDING,_.y=E.bottom,_.space_left=_.height,_.bottom=_.y,E.space_left-=_.height+K.PADDING,E.bottom+=_.height+K.PADDING):(_.y=p,p+=_.height+K.PADDING,_.x=s,_.bottom=_.y,_.space_left=_.height),_.y+_.height-c>-K.FLOAT_EPSILON&&(c=_.y+_.height-a),_.x+_.width-f>-K.FLOAT_EPSILON&&(f=_.x+_.width-s)}function k(_){var M=0;return _.forEach(function(E){return M+=E.width+K.PADDING}),M}function b(){return f/c}}Ne.applyPacking=ks;function Ms(e,t){for(var r={},n={},i=[],o=0,s=0;s<t.length;s++){var a=t[s],u=a.source,l=a.target;n[u.index]?n[u.index].push(l):n[u.index]=[l],n[l.index]?n[l.index].push(u):n[l.index]=[u]}for(var s=0;s<e.length;s++){var f=e[s];r[f.index]||c(f,!0)}function c(h,p){if(r[h.index]===void 0){p&&(o++,i.push({array:[]})),r[h.index]=o,i[o-1].array.push(h);var v=n[h.index];if(!!v)for(var d=0;d<v.length;d++)c(v[d],!1)}}return i}Ne.separateGraphs=Ms});var kt=O(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});var Es=vr(),Cr=ge(),Le=ve(),Pe=wt(),Li=Ft(),Pi=Pr(),Ai=Ar(),Gt;(function(e){e[e.start=0]="start",e[e.tick=1]="tick",e[e.end=2]="end"})(Gt=zt.EventType||(zt.EventType={}));function Ae(e){return typeof e.leaves!="undefined"||typeof e.groups!="undefined"}var Ss=function(){function e(){var t=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:e.getSourceIndex,getTargetIndex:e.getTargetIndex,setLength:e.setLinkLength,getType:function(r){return typeof t._linkType=="function"?t._linkType(r):0}}}return e.prototype.on=function(t,r){return this.event||(this.event={}),typeof t=="string"?this.event[Gt[t]]=r:this.event[t]=r,this},e.prototype.trigger=function(t){this.event&&typeof this.event[t.type]!="undefined"&&this.event[t.type](t)},e.prototype.kick=function(){for(;!this.tick(););},e.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:Gt.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var t=this._nodes.length,r=this._links.length,n,i;for(this._descent.locks.clear(),i=0;i<t;++i)if(n=this._nodes[i],n.fixed){(typeof n.px=="undefined"||typeof n.py=="undefined")&&(n.px=n.x,n.py=n.y);var o=[n.px,n.py];this._descent.locks.add(i,o)}var s=this._descent.rungeKutta();return s===0?this._alpha=0:typeof this._lastStress!="undefined"&&(this._alpha=s),this._lastStress=s,this.updateNodePositions(),this.trigger({type:Gt.tick,alpha:this._alpha,stress:this._lastStress}),!1},e.prototype.updateNodePositions=function(){for(var t=this._descent.x[0],r=this._descent.x[1],n,i=this._nodes.length;i--;)n=this._nodes[i],n.x=t[i],n.y=r[i]},e.prototype.nodes=function(t){if(!t){if(this._nodes.length===0&&this._links.length>0){var r=0;this._links.forEach(function(i){r=Math.max(r,i.source,i.target)}),this._nodes=new Array(++r);for(var n=0;n<r;++n)this._nodes[n]={}}return this._nodes}return this._nodes=t,this},e.prototype.groups=function(t){var r=this;return t?(this._groups=t,this._rootGroup={},this._groups.forEach(function(n){typeof n.padding=="undefined"&&(n.padding=1),typeof n.leaves!="undefined"&&n.leaves.forEach(function(i,o){typeof i=="number"&&((n.leaves[o]=r._nodes[i]).parent=n)}),typeof n.groups!="undefined"&&n.groups.forEach(function(i,o){typeof i=="number"&&((n.groups[o]=r._groups[i]).parent=n)})}),this._rootGroup.leaves=this._nodes.filter(function(n){return typeof n.parent=="undefined"}),this._rootGroup.groups=this._groups.filter(function(n){return typeof n.parent=="undefined"}),this):this._groups},e.prototype.powerGraphGroups=function(t){var r=Es.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(r.groups),t(r),this},e.prototype.avoidOverlaps=function(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps},e.prototype.handleDisconnected=function(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected},e.prototype.flowLayout=function(t,r){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:typeof r=="number"?function(){return r}:r},this},e.prototype.links=function(t){return arguments.length?(this._links=t,this):this._links},e.prototype.constraints=function(t){return arguments.length?(this._constraints=t,this):this._constraints},e.prototype.distanceMatrix=function(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix},e.prototype.size=function(t){return t?(this._canvasSize=t,this):this._canvasSize},e.prototype.defaultNodeSize=function(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize},e.prototype.groupCompactness=function(t){return t?(this._groupCompactness=t,this):this._groupCompactness},e.prototype.linkDistance=function(t){return t?(this._linkDistance=typeof t=="function"?t:+t,this._linkLengthCalculator=null,this):this._linkDistance},e.prototype.linkType=function(t){return this._linkType=t,this},e.prototype.convergenceThreshold=function(t){return t?(this._threshold=typeof t=="function"?t:+t,this):this._threshold},e.prototype.alpha=function(t){return arguments.length?(t=+t,this._alpha?t>0?this._alpha=t:this._alpha=0:t>0&&(this._running||(this._running=!0,this.trigger({type:Gt.start,alpha:this._alpha=t}),this.kick())),this):this._alpha},e.prototype.getLinkLength=function(t){return typeof this._linkDistance=="function"?+this._linkDistance(t):this._linkDistance},e.setLinkLength=function(t,r){t.length=r},e.prototype.getLinkType=function(t){return typeof this._linkType=="function"?this._linkType(t):0},e.prototype.symmetricDiffLinkLengths=function(t,r){var n=this;return r===void 0&&(r=1),this.linkDistance(function(i){return t*i.length}),this._linkLengthCalculator=function(){return Cr.symmetricDiffLinkLengths(n._links,n.linkAccessor,r)},this},e.prototype.jaccardLinkLengths=function(t,r){var n=this;return r===void 0&&(r=1),this.linkDistance(function(i){return t*i.length}),this._linkLengthCalculator=function(){return Cr.jaccardLinkLengths(n._links,n.linkAccessor,r)},this},e.prototype.start=function(t,r,n,i,o,s){var a=this;t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=!0),s===void 0&&(s=!0);var u,l,f=this.nodes().length,c=f+2*this._groups.length,h=this._links.length,p=this._canvasSize[0],v=this._canvasSize[1],d=new Array(c),m=new Array(c),g=null,x=this._avoidOverlaps;this._nodes.forEach(function(S,y){S.index=y,typeof S.x=="undefined"&&(S.x=p/2,S.y=v/2),d[y]=S.x,m[y]=S.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var w;this._distanceMatrix?w=this._distanceMatrix:(w=new Li.Calculator(c,this._links,e.getSourceIndex,e.getTargetIndex,function(S){return a.getLinkLength(S)}).DistanceMatrix(),g=Le.Descent.createSquareMatrix(c,function(){return 2}),this._links.forEach(function(S){typeof S.source=="number"&&(S.source=a._nodes[S.source]),typeof S.target=="number"&&(S.target=a._nodes[S.target])}),this._links.forEach(function(S){var y=e.getSourceIndex(S),P=e.getTargetIndex(S);g[y][P]=g[P][y]=S.weight||1}));var k=Le.Descent.createSquareMatrix(c,function(S,y){return w[S][y]});if(this._rootGroup&&typeof this._rootGroup.groups!="undefined"){var u=f,b=function(y,P,A,I){g[y][P]=g[P][y]=A,k[y][P]=k[P][y]=I};this._groups.forEach(function(y){b(u,u+1,a._groupCompactness,.1),d[u]=0,m[u++]=0,d[u]=0,m[u++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var _=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,_=_.concat(Cr.generateDirectedEdgeConstraints(f,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new Le.Descent([d,m],k),this._descent.locks.clear();for(var u=0;u<f;++u){var M=this._nodes[u];if(M.fixed){M.px=M.x,M.py=M.y;var E=[M.x,M.y];this._descent.locks.add(u,E)}}if(this._descent.threshold=this._threshold,this.initialLayout(t,d,m),_.length>0&&(this._descent.project=new Pe.Projection(this._nodes,this._groups,this._rootGroup,_).projectFunctions()),this._descent.run(r),this.separateOverlappingComponents(p,v,s),this.avoidOverlaps(x),x&&(this._nodes.forEach(function(S,y){S.x=d[y],S.y=m[y]}),this._descent.project=new Pe.Projection(this._nodes,this._groups,this._rootGroup,_,!0).projectFunctions(),this._nodes.forEach(function(S,y){d[y]=S.x,m[y]=S.y})),this._descent.G=g,this._descent.run(n),i){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=f,this._descent.scaleSnapByMaxH=f!=c;var C=Le.Descent.createSquareMatrix(c,function(S,y){return S>=f||y>=f?g[S][y]:0});this._descent.G=C,this._descent.run(i)}return this.updateNodePositions(),this.separateOverlappingComponents(p,v,s),o?this.resume():this},e.prototype.initialLayout=function(t,r,n){if(this._groups.length>0&&t>0){var i=this._nodes.length,o=this._links.map(function(a){return{source:a.source.index,target:a.target.index}}),s=this._nodes.map(function(a){return{index:a.index}});this._groups.forEach(function(a,u){s.push({index:a.index=i+u})}),this._groups.forEach(function(a,u){typeof a.leaves!="undefined"&&a.leaves.forEach(function(l){return o.push({source:a.index,target:l.index})}),typeof a.groups!="undefined"&&a.groups.forEach(function(l){return o.push({source:a.index,target:l.index})})}),new e().size(this.size()).nodes(s).links(o).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(t,0,0,0,!1),this._nodes.forEach(function(a){r[a.index]=s[a.index].x,n[a.index]=s[a.index].y})}else this._descent.run(t)},e.prototype.separateOverlappingComponents=function(t,r,n){var i=this;if(n===void 0&&(n=!0),!this._distanceMatrix&&this._handleDisconnected){var o=this._descent.x[0],s=this._descent.x[1];this._nodes.forEach(function(u,l){u.x=o[l],u.y=s[l]});var a=Ai.separateGraphs(this._nodes,this._links);Ai.applyPacking(a,t,r,this._defaultNodeSize,1,n),this._nodes.forEach(function(u,l){i._descent.x[0][l]=u.x,i._descent.x[1][l]=u.y,u.bounds&&(u.bounds.setXCentre(u.x),u.bounds.setYCentre(u.y))})}},e.prototype.resume=function(){return this.alpha(.1)},e.prototype.stop=function(){return this.alpha(0)},e.prototype.prepareEdgeRouting=function(t){t===void 0&&(t=0),this._visibilityGraph=new Pi.TangentVisibilityGraph(this._nodes.map(function(r){return r.bounds.inflate(-t).vertices()}))},e.prototype.routeEdge=function(t,r,n){r===void 0&&(r=5);var i=[],o=new Pi.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),s={x:t.source.x,y:t.source.y},a={x:t.target.x,y:t.target.y},u=o.addPoint(s,t.source.index),l=o.addPoint(a,t.target.index);o.addEdgeIfVisible(s,a,t.source.index,t.target.index),typeof n!="undefined"&&n(o);var f=function(k){return k.source.id},c=function(k){return k.target.id},h=function(k){return k.length()},p=new Li.Calculator(o.V.length,o.E,f,c,h),v=p.PathFromNodeToNode(u.id,l.id);if(v.length===1||v.length===o.V.length){var d=Pe.makeEdgeBetween(t.source.innerBounds,t.target.innerBounds,r);i=[d.sourceIntersection,d.arrowStart]}else{for(var m=v.length-2,g=o.V[v[m]].p,x=o.V[v[0]].p,i=[t.source.innerBounds.rayIntersection(g.x,g.y)],w=m;w>=0;--w)i.push(o.V[v[w]].p);i.push(Pe.makeEdgeTo(x,t.target.innerBounds,r))}return i},e.getSourceIndex=function(t){return typeof t.source=="number"?t.source:t.source.index},e.getTargetIndex=function(t){return typeof t.target=="number"?t.target:t.target.index},e.linkId=function(t){return e.getSourceIndex(t)+"-"+e.getTargetIndex(t)},e.dragStart=function(t){Ae(t)?e.storeOffset(t,e.dragOrigin(t)):(e.stopNode(t),t.fixed|=2)},e.stopNode=function(t){t.px=t.x,t.py=t.y},e.storeOffset=function(t,r){typeof t.leaves!="undefined"&&t.leaves.forEach(function(n){n.fixed|=2,e.stopNode(n),n._dragGroupOffsetX=n.x-r.x,n._dragGroupOffsetY=n.y-r.y}),typeof t.groups!="undefined"&&t.groups.forEach(function(n){return e.storeOffset(n,r)})},e.dragOrigin=function(t){return Ae(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t},e.drag=function(t,r){Ae(t)?(typeof t.leaves!="undefined"&&t.leaves.forEach(function(n){t.bounds.setXCentre(r.x),t.bounds.setYCentre(r.y),n.px=n._dragGroupOffsetX+r.x,n.py=n._dragGroupOffsetY+r.y}),typeof t.groups!="undefined"&&t.groups.forEach(function(n){return e.drag(n,r)})):(t.px=r.x,t.py=r.y)},e.dragEnd=function(t){Ae(t)?(typeof t.leaves!="undefined"&&t.leaves.forEach(function(r){e.dragEnd(r),delete r._dragGroupOffsetX,delete r._dragGroupOffsetY}),typeof t.groups!="undefined"&&t.groups.forEach(e.dragEnd)):t.fixed&=~6},e.mouseOver=function(t){t.fixed|=4,t.px=t.x,t.py=t.y},e.mouseOut=function(t){t.fixed&=~4},e}();zt.Layout=Ss});var Ii=O(Mt=>{"use strict";var Ns=Mt&&Mt.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Mt,"__esModule",{value:!0});var Ir=kt(),Ci=function(e){Ns(t,e);function t(r){var n=e.call(this)||this,i=n,o=r;return o.trigger&&(n.trigger=o.trigger),o.kick&&(n.kick=o.kick),o.drag&&(n.drag=o.drag),o.on&&(n.on=o.on),n.dragstart=n.dragStart=Ir.Layout.dragStart,n.dragend=n.dragEnd=Ir.Layout.dragEnd,n}return t.prototype.trigger=function(r){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(r,n){return this},t}(Ir.Layout);Mt.LayoutAdaptor=Ci;function Ls(e){return new Ci(e)}Mt.adaptor=Ls});var Oi=O(Et=>{"use strict";var Ps=Et&&Et.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Et,"__esModule",{value:!0});var H=kt(),ji=function(e){Ps(t,e);function t(){var r=e.call(this)||this;r.event=d3.dispatch(H.EventType[H.EventType.start],H.EventType[H.EventType.tick],H.EventType[H.EventType.end]);var n=r,i;return r.drag=function(){if(!o)var o=d3.behavior.drag().origin(H.Layout.dragOrigin).on("dragstart.d3adaptor",H.Layout.dragStart).on("drag.d3adaptor",function(s){H.Layout.drag(s,d3.event),n.resume()}).on("dragend.d3adaptor",H.Layout.dragEnd);if(!arguments.length)return o;this.call(o)},r}return t.prototype.trigger=function(r){var n={type:H.EventType[r.type],alpha:r.alpha,stress:r.stress};this.event[n.type](n)},t.prototype.kick=function(){var r=this;d3.timer(function(){return e.prototype.tick.call(r)})},t.prototype.on=function(r,n){return typeof r=="string"?this.event.on(r,n):this.event.on(H.EventType[r],n),this},t}(H.Layout);Et.D3StyleLayoutAdaptor=ji;function As(){return new ji}Et.d3adaptor=As});var Di=O(Ht=>{"use strict";var Cs=Ht&&Ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ht,"__esModule",{value:!0});var V=kt(),Is=function(e){Cs(t,e);function t(r){var n=e.call(this)||this;n.d3Context=r,n.event=r.dispatch(V.EventType[V.EventType.start],V.EventType[V.EventType.tick],V.EventType[V.EventType.end]);var i=n,o;return n.drag=function(){if(!s)var s=r.drag().subject(V.Layout.dragOrigin).on("start.d3adaptor",V.Layout.dragStart).on("drag.d3adaptor",function(a){V.Layout.drag(a,r.event),i.resume()}).on("end.d3adaptor",V.Layout.dragEnd);if(!arguments.length)return s;arguments[0].call(s)},n}return t.prototype.trigger=function(r){var n={type:V.EventType[r.type],alpha:r.alpha,stress:r.stress};this.event.call(n.type,n)},t.prototype.kick=function(){var r=this,n=this.d3Context.timer(function(){return e.prototype.tick.call(r)&&n.stop()})},t.prototype.on=function(r,n){return typeof r=="string"?this.event.on(r,n):this.event.on(V.EventType[r],n),this},t}(V.Layout);Ht.D3StyleLayoutAdaptor=Is});var Ti=O(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});var js=Oi(),Os=Di();function Ts(e){return!e||Ds(e)?new js.D3StyleLayoutAdaptor:new Os.D3StyleLayoutAdaptor(e)}jr.d3adaptor=Ts;function Ds(e){var t=/^3\./;return e.version&&e.version.match(t)!==null}});var Rr=O(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});var Rs=wt(),Or=_e(),qs=Ft(),Ri=function(){function e(t,r,n){this.id=t,this.rect=r,this.children=n,this.leaf=typeof n=="undefined"||n.length===0}return e}();St.NodeWrapper=Ri;var Dr=function(){function e(t,r,n,i,o){i===void 0&&(i=null),o===void 0&&(o=null),this.id=t,this.x=r,this.y=n,this.node=i,this.line=o}return e}();St.Vert=Dr;var Tr=function(){function e(t,r){this.s=t,this.t=r;var n=e.findMatch(t,r),i=r.slice(0).reverse(),o=e.findMatch(t,i);n.length>=o.length?(this.length=n.length,this.si=n.si,this.ti=n.ti,this.reversed=!1):(this.length=o.length,this.si=o.si,this.ti=r.length-o.ti-o.length,this.reversed=!0)}return e.findMatch=function(t,r){for(var n=t.length,i=r.length,o={length:0,si:-1,ti:-1},s=new Array(n),a=0;a<n;a++){s[a]=new Array(i);for(var u=0;u<i;u++)if(t[a]===r[u]){var l=s[a][u]=a===0||u===0?1:s[a-1][u-1]+1;l>o.length&&(o.length=l,o.si=a-l+1,o.ti=u-l+1)}else s[a][u]=0}return o},e.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},e}();St.LongestCommonSubsequence=Tr;var Fs=function(){function e(t,r,n){var i=this;n===void 0&&(n=12),this.originalnodes=t,this.groupPadding=n,this.leaves=null,this.nodes=t.map(function(d,m){return new Ri(m,r.getBounds(d),r.getChildren(d))}),this.leaves=this.nodes.filter(function(d){return d.leaf}),this.groups=this.nodes.filter(function(d){return!d.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(d){return d.children.forEach(function(m){return i.nodes[m].parent=d})}),this.root={children:[]},this.nodes.forEach(function(d){typeof d.parent=="undefined"&&(d.parent=i.root,i.root.children.push(d.id)),d.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(d,m){return i.getDepth(d)-i.getDepth(m)});var o=this.backToFront.slice(0).reverse().filter(function(d){return!d.leaf});o.forEach(function(d){var m=Rs.Rectangle.empty();d.children.forEach(function(g){return m=m.union(i.nodes[g].rect)}),d.rect=m.inflate(i.groupPadding)});var s=this.midPoints(this.cols.map(function(d){return d.pos})),a=this.midPoints(this.rows.map(function(d){return d.pos})),u=s[0],l=s[s.length-1],f=a[0],c=a[a.length-1],h=this.rows.map(function(d){return{x1:u,x2:l,y1:d.pos,y2:d.pos}}).concat(a.map(function(d){return{x1:u,x2:l,y1:d,y2:d}})),p=this.cols.map(function(d){return{x1:d.pos,x2:d.pos,y1:f,y2:c}}).concat(s.map(function(d){return{x1:d,x2:d,y1:f,y2:c}})),v=h.concat(p);v.forEach(function(d){return d.verts=[]}),this.verts=[],this.edges=[],h.forEach(function(d){return p.forEach(function(m){var g=new Dr(i.verts.length,m.x1,d.y1);d.verts.push(g),m.verts.push(g),i.verts.push(g);for(var x=i.backToFront.length;x-- >0;){var w=i.backToFront[x],k=w.rect,b=Math.abs(g.x-k.cx()),_=Math.abs(g.y-k.cy());if(b<k.width()/2&&_<k.height()/2){g.node=w;break}}})}),v.forEach(function(d,m){i.nodes.forEach(function(_,M){_.rect.lineIntersections(d.x1,d.y1,d.x2,d.y2).forEach(function(E,C){var S=new Dr(i.verts.length,E.x,E.y,_,d);i.verts.push(S),d.verts.push(S),_.ports.push(S)})});var g=Math.abs(d.y1-d.y2)<.1,x=function(_,M){return g?M.x-_.x:M.y-_.y};d.verts.sort(x);for(var w=1;w<d.verts.length;w++){var k=d.verts[w-1],b=d.verts[w];k.node&&k.node===b.node&&k.node.leaf||i.edges.push({source:k.id,target:b.id,length:Math.abs(x(k,b))})}})}return e.prototype.avg=function(t){return t.reduce(function(r,n){return r+n})/t.length},e.prototype.getGridLines=function(t){for(var r=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var i=n.filter(function(s){return s.rect["overlap"+t.toUpperCase()](n[0].rect)}),o={nodes:i,pos:this.avg(i.map(function(s){return s.rect["c"+t]()}))};r.push(o),o.nodes.forEach(function(s){return n.splice(n.indexOf(s),1)})}return r.sort(function(s,a){return s.pos-a.pos}),r},e.prototype.getDepth=function(t){for(var r=0;t.parent!==this.root;)r++,t=t.parent;return r},e.prototype.midPoints=function(t){for(var r=t[1]-t[0],n=[t[0]-r/2],i=1;i<t.length;i++)n.push((t[i]+t[i-1])/2);return n.push(t[t.length-1]+r/2),n},e.prototype.findLineage=function(t){var r=[t];do t=t.parent,r.push(t);while(t!==this.root);return r.reverse()},e.prototype.findAncestorPathBetween=function(t,r){for(var n=this.findLineage(t),i=this.findLineage(r),o=0;n[o]===i[o];)o++;return{commonAncestor:n[o-1],lineages:n.slice(o).concat(i.slice(o))}},e.prototype.siblingObstacles=function(t,r){var n=this,i=this.findAncestorPathBetween(t,r),o={};i.lineages.forEach(function(a){return o[a.id]={}});var s=i.commonAncestor.children.filter(function(a){return!(a in o)});return i.lineages.filter(function(a){return a.parent!==i.commonAncestor}).forEach(function(a){return s=s.concat(a.parent.children.filter(function(u){return u!==a.id}))}),s.map(function(a){return n.nodes[a]})},e.getSegmentSets=function(t,r,n){for(var i=[],o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.length;a++){var u=s[a];u.edgeid=o,u.i=a;var l=u[1][r]-u[0][r];Math.abs(l)<.1&&i.push(u)}i.sort(function(p,v){return p[0][r]-v[0][r]});for(var f=[],c=null,h=0;h<i.length;h++){var u=i[h];(!c||Math.abs(u[0][r]-c.pos)>.1)&&(c={pos:u[0][r],segments:[]},f.push(c)),c.segments.push(u)}return f},e.nudgeSegs=function(t,r,n,i,o,s){var a=i.length;if(!(a<=1)){for(var u=i.map(function(w){return new Or.Variable(w[0][t])}),l=[],f=0;f<a;f++)for(var c=0;c<a;c++)if(f!==c){var h=i[f],p=i[c],v=h.edgeid,d=p.edgeid,m=-1,g=-1;t=="x"?o(v,d)&&(h[0][r]<h[1][r]?(m=c,g=f):(m=f,g=c)):o(v,d)&&(h[0][r]<h[1][r]?(m=f,g=c):(m=c,g=f)),m>=0&&l.push(new Or.Constraint(u[m],u[g],s))}var x=new Or.Solver(u,l);x.solve(),u.forEach(function(w,k){var b=i[k],_=w.position();b[0][t]=b[1][t]=_;var M=n[b.edgeid];b.i>0&&(M[b.i-1][1][t]=_),b.i<M.length-1&&(M[b.i+1][0][t]=_)})}},e.nudgeSegments=function(t,r,n,i,o){for(var s=e.getSegmentSets(t,r,n),a=0;a<s.length;a++){for(var u=s[a],l=[],f=0;f<u.segments.length;f++){var c=u.segments[f];l.push({type:0,s:c,pos:Math.min(c[0][n],c[1][n])}),l.push({type:1,s:c,pos:Math.max(c[0][n],c[1][n])})}l.sort(function(v,d){return v.pos-d.pos+v.type-d.type});var h=[],p=0;l.forEach(function(v){v.type===0?(h.push(v.s),p++):p--,p==0&&(e.nudgeSegs(r,n,t,h,i,o),h=[])})}},e.prototype.routeEdges=function(t,r,n,i){var o=this,s=t.map(function(l){return o.route(n(l),i(l))}),a=e.orderEdges(s),u=s.map(function(l){return e.makeSegments(l)});return e.nudgeSegments(u,"x","y",a,r),e.nudgeSegments(u,"y","x",a,r),e.unreverseEdges(u,s),u},e.unreverseEdges=function(t,r){t.forEach(function(n,i){var o=r[i];o.reversed&&(n.reverse(),n.forEach(function(s){s.reverse()}))})},e.angleBetween2Lines=function(t,r){var n=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),i=Math.atan2(r[0].y-r[1].y,r[0].x-r[1].x),o=n-i;return(o>Math.PI||o<-Math.PI)&&(o=i-n),o},e.isLeft=function(t,r,n){return(r.x-t.x)*(n.y-t.y)-(r.y-t.y)*(n.x-t.x)<=0},e.getOrder=function(t){for(var r={},n=0;n<t.length;n++){var i=t[n];typeof r[i.l]=="undefined"&&(r[i.l]={}),r[i.l][i.r]=!0}return function(o,s){return typeof r[o]!="undefined"&&r[o][s]}},e.orderEdges=function(t){for(var r=[],n=0;n<t.length-1;n++)for(var i=n+1;i<t.length;i++){var o=t[n],s=t[i],a=new Tr(o,s),u,l,f;if(a.length!==0){if(a.reversed&&(s.reverse(),s.reversed=!0,a=new Tr(o,s)),(a.si<=0||a.ti<=0)&&(a.si+a.length>=o.length||a.ti+a.length>=s.length)){r.push({l:n,r:i});continue}a.si+a.length>=o.length||a.ti+a.length>=s.length?(u=o[a.si+1],f=o[a.si-1],l=s[a.ti-1]):(u=o[a.si+a.length-2],l=o[a.si+a.length],f=s[a.ti+a.length]),e.isLeft(u,l,f)?r.push({l:i,r:n}):r.push({l:n,r:i})}}return e.getOrder(r)},e.makeSegments=function(t){function r(l){return{x:l.x,y:l.y}}for(var n=function(l,f,c){return Math.abs((f.x-l.x)*(c.y-l.y)-(f.y-l.y)*(c.x-l.x))<.001},i=[],o=r(t[0]),s=1;s<t.length;s++){var a=r(t[s]),u=s<t.length-1?t[s+1]:null;(!u||!n(o,a,u))&&(i.push([o,a]),o=a)}return i},e.prototype.route=function(t,r){var n=this,i=this.nodes[t],o=this.nodes[r];this.obstacles=this.siblingObstacles(i,o);var s={};this.obstacles.forEach(function(g){return s[g.id]=g}),this.passableEdges=this.edges.filter(function(g){var x=n.verts[g.source],w=n.verts[g.target];return!(x.node&&x.node.id in s||w.node&&w.node.id in s)});for(var a=1;a<i.ports.length;a++){var u=i.ports[0].id,l=i.ports[a].id;this.passableEdges.push({source:u,target:l,length:0})}for(var a=1;a<o.ports.length;a++){var u=o.ports[0].id,l=o.ports[a].id;this.passableEdges.push({source:u,target:l,length:0})}var f=function(g){return g.source},c=function(g){return g.target},h=function(g){return g.length},p=new qs.Calculator(this.verts.length,this.passableEdges,f,c,h),v=function(g,x,w){var k=n.verts[g],b=n.verts[x],_=n.verts[w],M=Math.abs(_.x-k.x),E=Math.abs(_.y-k.y);return k.node===i&&k.node===b.node||b.node===o&&b.node===_.node?0:M>1&&E>1?1e3:0},d=p.PathFromNodeToNodeWithPrevCost(i.ports[0].id,o.ports[0].id,v),m=d.reverse().map(function(g){return n.verts[g]});return m.push(this.nodes[o.id].ports[0]),m.filter(function(g,x){return!(x<m.length-1&&m[x+1].node===i&&g.node===i||x>0&&g.node===o&&m[x-1].node===o)})},e.getRoutePath=function(t,r,n,i){var o={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var s=0;s<t.length;s++){var a=t[s],u=a[1].x,l=a[1].y,f=u-a[0].x,c=l-a[0].y;if(s<t.length-1){Math.abs(f)>0?u-=f/Math.abs(f)*r:l-=c/Math.abs(c)*r,o.routepath+="L "+u+" "+l+" ";var h=t[s+1],p=h[0].x,v=h[0].y,d=h[1].x,m=h[1].y;f=d-p,c=m-v;var g=e.angleBetween2Lines(a,h)<0?1:0,x,w;Math.abs(f)>0?(x=p+f/Math.abs(f)*r,w=v):(x=p,w=v+c/Math.abs(c)*r);var k=Math.abs(x-u),b=Math.abs(w-l);o.routepath+="A "+k+" "+b+" 0 0 "+g+" "+x+" "+w+" "}else{var _=[u,l],M,E;Math.abs(f)>0?(u-=f/Math.abs(f)*i,M=[u,l+n],E=[u,l-n]):(l-=c/Math.abs(c)*i,M=[u+n,l],E=[u-n,l]),o.routepath+="L "+u+" "+l+" ",i>0&&(o.arrowpath="M "+_[0]+" "+_[1]+" L "+M[0]+" "+M[1]+" L "+E[0]+" "+E[1])}}else{var a=t[0],u=a[1].x,l=a[1].y,f=u-a[0].x,c=l-a[0].y,_=[u,l],M,E;Math.abs(f)>0?(u-=f/Math.abs(f)*i,M=[u,l+n],E=[u,l-n]):(l-=c/Math.abs(c)*i,M=[u+n,l],E=[u-n,l]),o.routepath+="L "+u+" "+l+" ",i>0&&(o.arrowpath="M "+_[0]+" "+_[1]+" L "+M[0]+" "+M[1]+" L "+E[0]+" "+E[1])}return o},e}();St.GridRouter=Fs});var qi=O(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});var Bs=Ft(),qr=ve(),zs=wt(),Gs=ge(),Hs=function(){function e(t,r){this.source=t,this.target=r}return e.prototype.actualLength=function(t){var r=this;return Math.sqrt(t.reduce(function(n,i){var o=i[r.target]-i[r.source];return n+o*o},0))},e}();Vt.Link3D=Hs;var Vs=function(){function e(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=t,this.y=r,this.z=n}return e}();Vt.Node3D=Vs;var Xs=function(){function e(t,r,n){var i=this;n===void 0&&(n=1),this.nodes=t,this.links=r,this.idealLinkLength=n,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(e.k);for(var o=0;o<e.k;++o)this.result[o]=new Array(t.length);t.forEach(function(s,a){for(var u=0,l=e.dims;u<l.length;u++){var f=l[u];typeof s[f]=="undefined"&&(s[f]=Math.random())}i.result[0][a]=s.x,i.result[1][a]=s.y,i.result[2][a]=s.z})}return e.prototype.linkLength=function(t){return t.actualLength(this.result)},e.prototype.start=function(t){var r=this;t===void 0&&(t=100);var n=this.nodes.length,i=new Us;this.useJaccardLinkLengths&&Gs.jaccardLinkLengths(this.links,i,1.5),this.links.forEach(function(f){return f.length*=r.idealLinkLength});var o=new Bs.Calculator(n,this.links,function(f){return f.source},function(f){return f.target},function(f){return f.length}).DistanceMatrix(),s=qr.Descent.createSquareMatrix(n,function(f,c){return o[f][c]}),a=qr.Descent.createSquareMatrix(n,function(){return 2});this.links.forEach(function(f){var c=f.source,h=f.target;return a[c][h]=a[h][c]=1}),this.descent=new qr.Descent(this.result,s),this.descent.threshold=.001,this.descent.G=a,this.constraints&&(this.descent.project=new zs.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var u=0;u<this.nodes.length;u++){var l=this.nodes[u];l.fixed&&this.descent.locks.add(u,[l.x,l.y,l.z])}return this.descent.run(t),this},e.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var r=this.nodes[t];r.fixed&&this.descent.locks.add(t,[r.x,r.y,r.z])}return this.descent.rungeKutta()},e.dims=["x","y","z"],e.k=e.dims.length,e}();Vt.Layout3D=Xs;var Us=function(){function e(){}return e.prototype.getSourceIndex=function(t){return t.source},e.prototype.getTargetIndex=function(t){return t.target},e.prototype.getLength=function(t){return t.length},e.prototype.setLength=function(t,r){t.length=r},e}()});var Fi=O(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var Fr=kt(),Ys=Rr();function $s(e,t,r,n){e.cola.start(0,0,0,10,!1);var i=Ks(e.cola.nodes(),e.cola.groups(),r,n);return i.routeEdges(e.powerGraph.powerEdges,t,function(o){return o.source.routerNode.id},function(o){return o.target.routerNode.id})}Ce.gridify=$s;function Ks(e,t,r,n){e.forEach(function(o){o.routerNode={name:o.name,bounds:o.bounds.inflate(-r)}}),t.forEach(function(o){o.routerNode={bounds:o.bounds.inflate(-n),children:(typeof o.groups!="undefined"?o.groups.map(function(s){return e.length+s.id}):[]).concat(typeof o.leaves!="undefined"?o.leaves.map(function(s){return s.index}):[])}});var i=e.concat(t).map(function(o,s){return o.routerNode.id=s,o.routerNode});return new Ys.GridRouter(i,{getChildren:function(o){return o.children},getBounds:function(o){return o.bounds}},r-n)}function Ws(e,t,r){var n;e.nodes.forEach(function(a,u){return a.index=u}),new Fr.Layout().avoidOverlaps(!1).nodes(e.nodes).links(e.links).powerGraphGroups(function(a){n=a,n.groups.forEach(function(u){return u.padding=r})});var i=e.nodes.length,o=[],s=e.nodes.slice(0);return s.forEach(function(a,u){return a.index=u}),n.groups.forEach(function(a){var u=a.index=a.id+i;s.push(a),typeof a.leaves!="undefined"&&a.leaves.forEach(function(l){return o.push({source:u,target:l.index})}),typeof a.groups!="undefined"&&a.groups.forEach(function(l){return o.push({source:u,target:l.id+i})})}),n.powerEdges.forEach(function(a){o.push({source:a.source.index,target:a.target.index})}),new Fr.Layout().size(t).nodes(s).links(o).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new Fr.Layout().convergenceThreshold(.001).size(t).avoidOverlaps(!0).nodes(e.nodes).links(e.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(a){n=a,n.groups.forEach(function(u){u.padding=r})}).start(50,0,100,0,!1),powerGraph:n}}Ce.powerGraphGridLayout=Ws});var Bi=O(Ie=>{"use strict";function T(e){for(var t in e)Ie.hasOwnProperty(t)||(Ie[t]=e[t])}Object.defineProperty(Ie,"__esModule",{value:!0});T(Ii());T(Ti());T(ve());T(Pr());T(Rr());T(Ar());T(kt());T(qi());T(ge());T(vr());T(Mr());T(xr());T(wt());T(Ft());T(_e());T(Fi())});var Ui=O((Vf,je)=>{"use strict";je.exports=Qs;je.exports.format=Hi;je.exports.parse=Vi;var Js=/\B(?=(\d{3})+(?!\d))/g,Zs=/(?:\.0*|(\.[^0]+)0+)$/,ct={b:1,kb:1<<10,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},ta=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function Qs(e,t){return typeof e=="string"?Vi(e):typeof e=="number"?Hi(e,t):null}function Hi(e,t){if(!Number.isFinite(e))return null;var r=Math.abs(e),n=t&&t.thousandsSeparator||"",i=t&&t.unitSeparator||"",o=t&&t.decimalPlaces!==void 0?t.decimalPlaces:2,s=Boolean(t&&t.fixedDecimals),a=t&&t.unit||"";(!a||!ct[a.toLowerCase()])&&(r>=ct.pb?a="PB":r>=ct.tb?a="TB":r>=ct.gb?a="GB":r>=ct.mb?a="MB":r>=ct.kb?a="KB":a="B");var u=e/ct[a.toLowerCase()],l=u.toFixed(o);return s||(l=l.replace(Zs,"$1")),n&&(l=l.replace(Js,n)),l+i+a}function Vi(e){if(typeof e=="number"&&!isNaN(e))return e;if(typeof e!="string")return null;var t=ta.exec(e),r,n="b";return t?(r=parseFloat(t[1]),n=t[4].toLowerCase()):(r=parseInt(e,10),n="b"),Math.floor(ct[n]*r)}});var ra={};fo(ra,{StaticContext:()=>ht,default:()=>oa});var L,co,Lt,Ur,Xr,Yr,Kt={},Te=[],ho=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ot(e,t){for(var r in t)e[r]=t[r];return e}function Kr(e){var t=e.parentNode;t&&t.removeChild(e)}function N(e,t,r){var n,i,o,s=arguments,a={};for(o in t)o=="key"?n=t[o]:o=="ref"?i=t[o]:a[o]=t[o];if(arguments.length>3)for(r=[r],o=3;o<arguments.length;o++)r.push(s[o]);if(r!=null&&(a.children=r),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return $t(e,a,n,i,null)}function $t(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++L.__v:i};return L.vnode!=null&&L.vnode(o),o}function Q(e){return e.children}function Wt(e,t){this.props=e,this.context=t}function Pt(e,t){if(t==null)return e.__?Pt(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Pt(e):null}function $r(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return $r(e)}}function Re(e){(!e.__d&&(e.__d=!0)&&Lt.push(e)&&!Qt.__r++||Xr!==L.debounceRendering)&&((Xr=L.debounceRendering)||Ur)(Qt)}function Qt(){for(var e;Qt.__r=Lt.length;)e=Lt.sort(function(t,r){return t.__v.__b-r.__v.__b}),Lt=[],e.some(function(t){var r,n,i,o,s,a;t.__d&&(s=(o=(r=t).__v).__e,(a=r.__P)&&(n=[],(i=ot({},o)).__v=o.__v+1,qe(a,o,i,r.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,n,s==null?Pt(o):s,o.__h),Wr(n,o),o.__e!=s&&$r(o)))})}function en(e,t,r,n,i,o,s,a,u,l){var f,c,h,p,v,d,m,g=n&&n.__k||Te,x=g.length;for(r.__k=[],f=0;f<t.length;f++)if((p=r.__k[f]=(p=t[f])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?$t(null,p,null,null,p):Array.isArray(p)?$t(Q,{children:p},null,null,null):p.__b>0?$t(p.type,p.props,p.key,null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(h=g[f])===null||h&&p.key==h.key&&p.type===h.type)g[f]=void 0;else for(c=0;c<x;c++){if((h=g[c])&&p.key==h.key&&p.type===h.type){g[c]=void 0;break}h=null}qe(e,p,h=h||Kt,i,o,s,a,u,l),v=p.__e,(c=p.ref)&&h.ref!=c&&(m||(m=[]),h.ref&&m.push(h.ref,null,p),m.push(c,p.__c||v,p)),v!=null?(d==null&&(d=v),typeof p.type=="function"&&p.__k!=null&&p.__k===h.__k?p.__d=u=Qr(p,u,e):u=Jr(e,p,h,g,v,u),l||r.type!=="option"?typeof r.type=="function"&&(r.__d=u):e.value=""):u&&h.__e==u&&u.parentNode!=e&&(u=Pt(h))}for(r.__e=d,f=x;f--;)g[f]!=null&&(typeof r.type=="function"&&g[f].__e!=null&&g[f].__e==r.__d&&(r.__d=Pt(n,f+1)),tn(g[f],g[f]));if(m)for(f=0;f<m.length;f++)Zr(m[f],m[++f],m[++f])}function Qr(e,t,r){var n,i;for(n=0;n<e.__k.length;n++)(i=e.__k[n])&&(i.__=e,t=typeof i.type=="function"?Qr(i,t,r):Jr(r,i,i,e.__k,i.__e,t));return t}function Jr(e,t,r,n,i,o){var s,a,u;if(t.__d!==void 0)s=t.__d,t.__d=void 0;else if(r==null||i!=o||i.parentNode==null)t:if(o==null||o.parentNode!==e)e.appendChild(i),s=null;else{for(a=o,u=0;(a=a.nextSibling)&&u<n.length;u+=2)if(a==i)break t;e.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function po(e,t,r,n,i){var o;for(o in r)o==="children"||o==="key"||o in t||Jt(e,o,null,r[o],n);for(o in t)i&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===t[o]||Jt(e,o,t[o],r[o],n)}function rn(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=r==null?"":typeof r!="number"||ho.test(t)?r:r+"px"}function Jt(e,t,r,n,i){var o;t:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||rn(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||rn(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n||e.addEventListener(t,o?on:nn,o):e.removeEventListener(t,o?on:nn,o);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=r==null?"":r;break t}catch(s){}typeof r=="function"||(r!=null&&(r!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,r):e.removeAttribute(t))}}function nn(e){this.l[e.type+!1](L.event?L.event(e):e)}function on(e){this.l[e.type+!0](L.event?L.event(e):e)}function qe(e,t,r,n,i,o,s,a,u){var l,f,c,h,p,v,d,m,g,x,w,k=t.type;if(t.constructor!==void 0)return null;r.__h!=null&&(u=r.__h,a=t.__e=r.__e,t.__h=null,o=[a]),(l=L.__b)&&l(t);try{t:if(typeof k=="function"){if(m=t.props,g=(l=k.contextType)&&n[l.__c],x=l?g?g.props.value:l.__:n,r.__c?d=(f=t.__c=r.__c).__=f.__E:("prototype"in k&&k.prototype.render?t.__c=f=new k(m,x):(t.__c=f=new Wt(m,x),f.constructor=k,f.render=vo),g&&g.sub(f),f.props=m,f.state||(f.state={}),f.context=x,f.__n=n,c=f.__d=!0,f.__h=[]),f.__s==null&&(f.__s=f.state),k.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ot({},f.__s)),ot(f.__s,k.getDerivedStateFromProps(m,f.__s))),h=f.props,p=f.state,c)k.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(k.getDerivedStateFromProps==null&&m!==h&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(m,x),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(m,f.__s,x)===!1||t.__v===r.__v){f.props=m,f.state=f.__s,t.__v!==r.__v&&(f.__d=!1),f.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(b){b&&(b.__=t)}),f.__h.length&&s.push(f);break t}f.componentWillUpdate!=null&&f.componentWillUpdate(m,f.__s,x),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(h,p,v)})}f.context=x,f.props=m,f.state=f.__s,(l=L.__r)&&l(t),f.__d=!1,f.__v=t,f.__P=e,l=f.render(f.props,f.state,f.context),f.state=f.__s,f.getChildContext!=null&&(n=ot(ot({},n),f.getChildContext())),c||f.getSnapshotBeforeUpdate==null||(v=f.getSnapshotBeforeUpdate(h,p)),w=l!=null&&l.type===Q&&l.key==null?l.props.children:l,en(e,Array.isArray(w)?w:[w],t,r,n,i,o,s,a,u),f.base=t.__e,t.__h=null,f.__h.length&&s.push(f),d&&(f.__E=f.__=null),f.__e=!1}else o==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=go(r.__e,t,r,n,i,o,s,u);(l=L.diffed)&&l(t)}catch(b){t.__v=null,(u||o!=null)&&(t.__e=a,t.__h=!!u,o[o.indexOf(a)]=null),L.__e(b,t,r)}}function Wr(e,t){L.__c&&L.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){L.__e(n,r.__v)}})}function go(e,t,r,n,i,o,s,a){var u,l,f,c,h=r.props,p=t.props,v=t.type,d=0;if(v==="svg"&&(i=!0),o!=null){for(;d<o.length;d++)if((u=o[d])&&(u===e||(v?u.localName==v:u.nodeType==3))){e=u,o[d]=null;break}}if(e==null){if(v===null)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,p.is&&p),o=null,a=!1}if(v===null)h===p||a&&e.data===p||(e.data=p);else{if(o=o&&Te.slice.call(e.childNodes),l=(h=r.props||Kt).dangerouslySetInnerHTML,f=p.dangerouslySetInnerHTML,!a){if(o!=null)for(h={},c=0;c<e.attributes.length;c++)h[e.attributes[c].name]=e.attributes[c].value;(f||l)&&(f&&(l&&f.__html==l.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(po(e,p,h,i,a),f)t.__k=[];else if(d=t.props.children,en(e,Array.isArray(d)?d:[d],t,r,n,i&&v!=="foreignObject",o,s,e.firstChild,a),o!=null)for(d=o.length;d--;)o[d]!=null&&Kr(o[d]);a||("value"in p&&(d=p.value)!==void 0&&(d!==e.value||v==="progress"&&!d)&&Jt(e,"value",d,h.value,!1),"checked"in p&&(d=p.checked)!==void 0&&d!==e.checked&&Jt(e,"checked",d,h.checked,!1))}return e}function Zr(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){L.__e(n,r)}}function tn(e,t,r){var n,i,o;if(L.unmount&&L.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||Zr(n,null,t)),r||typeof e.type=="function"||(r=(i=e.__e)!=null),e.__e=e.__d=void 0,(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){L.__e(s,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&tn(n[o],t,r);i!=null&&Kr(i)}function vo(e,t,r){return this.constructor(e,r)}function sn(e,t,r){var n,i,o;L.__&&L.__(e,t),i=(n=typeof r=="function")?null:r&&r.__k||t.__k,o=[],qe(t,e=(!n&&r||t).__k=N(Q,null,[e]),i||Kt,Kt,t.ownerSVGElement!==void 0,!n&&r?[r]:i?null:t.firstChild?Te.slice.call(t.childNodes):null,o,!n&&r?r:i?i.__e:t.firstChild,n),Wr(o,e)}function an(e,t){var r={__c:t="__cC"+Yr++,__:e,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o;return this.getChildContext||(i=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(Re)},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}L={__e:function(e,t){for(var r,n,i;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&n.getDerivedStateFromError!=null&&(r.setState(n.getDerivedStateFromError(e)),i=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e),i=r.__d),i)return r.__E=r}catch(o){e=o}throw e},__v:0},co=function(e){return e!=null&&e.constructor===void 0},Wt.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ot({},this.state),typeof e=="function"&&(e=e(ot({},r),this.props)),e&&ot(r,e),e!=null&&this.__v&&(t&&this.__h.push(t),Re(this))},Wt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Re(this))},Wt.prototype.render=Q,Lt=[],Ur=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qt.__r=0,Yr=0;var At,q,un,Zt=0,Fe=[],fn=L.__b,ln=L.__r,cn=L.diffed,hn=L.__c,pn=L.unmount;function te(e,t){L.__h&&L.__h(q,e,Zt||t),Zt=0;var r=q.__H||(q.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function B(e){return Zt=1,mo(dn,e)}function mo(e,t,r){var n=te(At++,2);return n.t=e,n.__c||(n.__=[r?r(t):dn(void 0,t),function(i){var o=n.t(n.__[0],i);n.__[0]!==o&&(n.__=[o,n.__[1]],n.__c.setState({}))}],n.__c=q),n.__}function ee(e,t){var r=te(At++,3);!L.__s&&gn(r.__H,t)&&(r.__=e,r.__H=t,q.__H.__h.push(r))}function vn(e){return Zt=5,$(function(){return{current:e}},[])}function $(e,t){var r=te(At++,7);return gn(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function mt(e){var t=q.context[e.__c],r=te(At++,9);return r.__c=e,t?(r.__==null&&(r.__=!0,t.sub(q)),t.props.value):e.__}function yo(){Fe.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(re),e.__H.__h.forEach(Be),e.__H.__h=[]}catch(t){e.__H.__h=[],L.__e(t,e.__v)}}),Fe=[]}L.__b=function(e){q=null,fn&&fn(e)},L.__r=function(e){ln&&ln(e),At=0;var t=(q=e.__c).__H;t&&(t.__h.forEach(re),t.__h.forEach(Be),t.__h=[])},L.diffed=function(e){cn&&cn(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(Fe.push(t)!==1&&un===L.requestAnimationFrame||((un=L.requestAnimationFrame)||function(r){var n,i=function(){clearTimeout(o),mn&&cancelAnimationFrame(n),setTimeout(r)},o=setTimeout(i,100);mn&&(n=requestAnimationFrame(i))})(yo)),q=void 0},L.__c=function(e,t){t.some(function(r){try{r.__h.forEach(re),r.__h=r.__h.filter(function(n){return!n.__||Be(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],L.__e(n,r.__v)}}),hn&&hn(e,t)},L.unmount=function(e){pn&&pn(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(re)}catch(r){L.__e(r,t.__v)}};var mn=typeof requestAnimationFrame=="function";function re(e){var t=q;typeof e.__c=="function"&&e.__c(),q=t}function Be(e){var t=q;e.__c=e.__(),q=t}function gn(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function dn(e,t){return typeof t=="function"?t(e):t}function ne(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ze(e){let t=e,r=e;e.length===1&&(t=(s,a)=>e(s)-a,r=_o(e));function n(s,a,u,l){for(u==null&&(u=0),l==null&&(l=s.length);u<l;){let f=u+l>>>1;r(s[f],a)<0?u=f+1:l=f}return u}function i(s,a,u,l){for(u==null&&(u=0),l==null&&(l=s.length);u<l;){let f=u+l>>>1;r(s[f],a)>0?l=f:u=f+1}return u}function o(s,a,u,l){u==null&&(u=0),l==null&&(l=s.length);let f=n(s,a,u,l-1);return f>u&&t(s[f-1],a)>-t(s[f],a)?f-1:f}return{left:n,center:o,right:i}}function _o(e){return(t,r)=>ne(e(t),r)}function yn(e){return e===null?NaN:+e}var _n=ze(ne),xn=_n.right,xo=_n.left,bo=ze(yn).center,Ge=xn;var He=Math.sqrt(50),Ve=Math.sqrt(10),Ue=Math.sqrt(2);function Xe(e,t,r){var n,i=-1,o,s,a;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(o=e,e=t,t=o),(a=ie(e,t,r))===0||!isFinite(a))return[];if(a>0){let u=Math.round(e/a),l=Math.round(t/a);for(u*a<e&&++u,l*a>t&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)*a}else{a=-a;let u=Math.round(e*a),l=Math.round(t*a);for(u/a<e&&++u,l/a>t&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)/a}return n&&s.reverse(),s}function ie(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,i);return i>=0?(o>=He?10:o>=Ve?5:o>=Ue?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=He?10:o>=Ve?5:o>=Ue?2:1)}function Ye(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/i;return o>=He?i*=10:o>=Ve?i*=5:o>=Ue&&(i*=2),t<e?-i:i}function oe(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function bn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function se(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ke(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ct(){}var It=.7,ae=1/It,yt="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",J="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wo=/^#([0-9a-f]{3,8})$/,ko=new RegExp("^rgb\\("+[yt,yt,yt]+"\\)$"),Mo=new RegExp("^rgb\\("+[J,J,J]+"\\)$"),Eo=new RegExp("^rgba\\("+[yt,yt,yt,jt]+"\\)$"),So=new RegExp("^rgba\\("+[J,J,J,jt]+"\\)$"),No=new RegExp("^hsl\\("+[jt,J,J]+"\\)$"),Lo=new RegExp("^hsla\\("+[jt,J,J,jt]+"\\)$"),wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};se(Ct,st,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:kn,formatHex:kn,formatHsl:Po,formatRgb:Mn,toString:Mn});function kn(){return this.rgb().formatHex()}function Po(){return En(this).formatHsl()}function Mn(){return this.rgb().formatRgb()}function st(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wo.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Sn(t):r===3?new z(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ue(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ue(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ko.exec(e))?new z(t[1],t[2],t[3],1):(t=Mo.exec(e))?new z(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Eo.exec(e))?ue(t[1],t[2],t[3],t[4]):(t=So.exec(e))?ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=No.exec(e))?Nn(t[1],t[2]/100,t[3]/100,1):(t=Lo.exec(e))?Nn(t[1],t[2]/100,t[3]/100,t[4]):wn.hasOwnProperty(e)?Sn(wn[e]):e==="transparent"?new z(NaN,NaN,NaN,0):null}function Sn(e){return new z(e>>16&255,e>>8&255,e&255,1)}function ue(e,t,r,n){return n<=0&&(e=t=r=NaN),new z(e,t,r,n)}function Ao(e){return e instanceof Ct||(e=st(e)),e?(e=e.rgb(),new z(e.r,e.g,e.b,e.opacity)):new z}function _t(e,t,r,n){return arguments.length===1?Ao(e):new z(e,t,r,n==null?1:n)}function z(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}se(z,_t,Ke(Ct,{brighter:function(e){return e=e==null?ae:Math.pow(ae,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?It:Math.pow(It,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ln,formatHex:Ln,formatRgb:Pn,toString:Pn}));function Ln(){return"#"+$e(this.r)+$e(this.g)+$e(this.b)}function Pn(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function $e(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Nn(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Z(e,t,r,n)}function En(e){if(e instanceof Z)return new Z(e.h,e.s,e.l,e.opacity);if(e instanceof Ct||(e=st(e)),!e)return new Z;if(e instanceof Z)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-t)/a+2:s=(t-r)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new Z(s,a,u,e.opacity)}function An(e,t,r,n){return arguments.length===1?En(e):new Z(e,t,r,n==null?1:n)}function Z(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}se(Z,An,Ke(Ct,{brighter:function(e){return e=e==null?ae:Math.pow(ae,e),new Z(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?It:Math.pow(It,e),new Z(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new z(We(e>=240?e-240:e+120,i,n),We(e,i,n),We(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function We(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function Qe(e,t,r,n,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*r+(1+3*e+3*o-3*s)*n+s*i)/6}function Cn(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],s=n>0?e[n-1]:2*i-o,a=n<t-1?e[n+2]:2*o-i;return Qe((r-n/t)*t,s,i,o,a)}}function In(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],o=e[n%t],s=e[(n+1)%t],a=e[(n+2)%t];return Qe((r-n/t)*t,i,o,s,a)}}var Ot=e=>()=>e;function Co(e,t){return function(r){return e+r*t}}function Io(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function jn(e){return(e=+e)==1?fe:function(t,r){return r-t?Io(t,r,e):Ot(isNaN(t)?r:t)}}function fe(e,t){var r=t-e;return r?Co(e,r):Ot(isNaN(e)?t:e)}var Je=function e(t){var r=jn(t);function n(i,o){var s=r((i=_t(i)).r,(o=_t(o)).r),a=r(i.g,o.g),u=r(i.b,o.b),l=fe(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=u(f),i.opacity=l(f),i+""}}return n.gamma=e,n}(1);function On(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),o=new Array(r),s,a;for(s=0;s<r;++s)a=_t(t[s]),n[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return n=e(n),i=e(i),o=e(o),a.opacity=1,function(u){return a.r=n(u),a.g=i(u),a.b=o(u),a+""}}}var za=On(Cn),Ga=On(In);function Dn(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function Tn(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rn(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=pt(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function qn(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function at(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Fn(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=pt(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var Ze=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tr=new RegExp(Ze.source,"g");function jo(e){return function(){return e}}function Oo(e){return function(t){return e(t)+""}}function Bn(e,t){var r=Ze.lastIndex=tr.lastIndex=0,n,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(n=Ze.exec(e))&&(i=tr.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:at(n,i)})),r=tr.lastIndex;return r<t.length&&(o=t.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Oo(u[0].x):jo(t):(t=u.length,function(l){for(var f=0,c;f<t;++f)a[(c=u[f]).i]=c.x(l);return a.join("")})}function pt(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ot(t):(r==="number"?at:r==="string"?(n=st(t))?(t=n,Je):Bn:t instanceof st?Je:t instanceof Date?qn:Tn(t)?Dn:Array.isArray(t)?Rn:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fn:at)(e,t)}function er(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rr(e){return function(){return e}}function nr(e){return+e}var zn=[0,1];function rt(e){return e}function ir(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rr(isNaN(t)?NaN:.5)}function Do(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function To(e,t,r){var n=e[0],i=e[1],o=t[0],s=t[1];return i<n?(n=ir(i,n),o=r(s,o)):(n=ir(n,i),o=r(o,s)),function(a){return o(n(a))}}function Ro(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=ir(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(a){var u=Ge(e,a,1,n)-1;return o[u](i[u](a))}}function Gn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hn(){var e=zn,t=zn,r=pt,n,i,o,s=rt,a,u,l;function f(){var h=Math.min(e.length,t.length);return s!==rt&&(s=Do(e[0],e[h-1])),a=h>2?Ro:To,u=l=null,c}function c(h){return h==null||isNaN(h=+h)?o:(u||(u=a(e.map(n),t,r)))(n(s(h)))}return c.invert=function(h){return s(i((l||(l=a(t,e.map(n),at)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,nr),f()):e.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),r=er,f()},c.clamp=function(h){return arguments.length?(s=h?!0:rt,f()):s!==rt},c.interpolate=function(h){return arguments.length?(r=h,f()):r},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,p){return n=h,i=p,f()}}function Vn(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dt(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function tt(e){return e=dt(Math.abs(e)),e?e[1]:NaN}function Un(e,t){return function(r,n){for(var i=r.length,o=[],s=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>n&&(a=Math.max(1,n-u)),o.push(r.substring(i-=a,i+a)),!((u+=a+1)>n));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Xn(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var qo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ut(e){if(!(t=qo.exec(e)))throw new Error("invalid format: "+e);var t;return new le({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ut.prototype=le.prototype;function le(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}le.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yn(e){t:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break t;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var or;function Kn(e,t){var r=dt(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(or=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+dt(e,Math.max(0,t+o-1))[0]}function sr(e,t){var r=dt(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var ar={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vn,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sr(e*100,t),r:sr,s:Kn,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ur(e){return e}var $n=Array.prototype.map,Wn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Qn(e){var t=e.grouping===void 0||e.thousands===void 0?ur:Un($n.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ur:Xn($n.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(c){c=ut(c);var h=c.fill,p=c.align,v=c.sign,d=c.symbol,m=c.zero,g=c.width,x=c.comma,w=c.precision,k=c.trim,b=c.type;b==="n"?(x=!0,b="g"):ar[b]||(w===void 0&&(w=12),k=!0,b="g"),(m||h==="0"&&p==="=")&&(m=!0,h="0",p="=");var _=d==="$"?r:d==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",M=d==="$"?n:/[%p]/.test(b)?s:"",E=ar[b],C=/[defgprs%]/.test(b);w=w===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function S(y){var P=_,A=M,I,F,U;if(b==="c")A=E(y)+A,y="";else{y=+y;var et=y<0||1/y<0;if(y=isNaN(y)?u:E(Math.abs(y),w),k&&(y=Yn(y)),et&&+y==0&&v!=="+"&&(et=!1),P=(et?v==="("?v:a:v==="-"||v==="("?"":v)+P,A=(b==="s"?Wn[8+or/3]:"")+A+(et&&v==="("?")":""),C){for(I=-1,F=y.length;++I<F;)if(U=y.charCodeAt(I),48>U||U>57){A=(U===46?i+y.slice(I+1):y.slice(I))+A,y=y.slice(0,I);break}}}x&&!m&&(y=t(y,Infinity));var X=P.length+y.length+A.length,D=X<g?new Array(g-X+1).join(h):"";switch(x&&m&&(y=t(D+y,D.length?g-A.length:Infinity),D=""),p){case"<":y=P+y+A+D;break;case"=":y=P+D+y+A;break;case"^":y=D.slice(0,X=D.length>>1)+P+y+A+D.slice(X);break;default:y=D+P+y+A;break}return o(y)}return S.toString=function(){return c+""},S}function f(c,h){var p=l((c=ut(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(tt(h)/3)))*3,d=Math.pow(10,-v),m=Wn[8+v/3];return function(g){return p(d*g)+m}}return{format:l,formatPrefix:f}}var ce,he,pe;fr({thousands:",",grouping:[3],currency:["$",""]});function fr(e){return ce=Qn(e),he=ce.format,pe=ce.formatPrefix,ce}function lr(e){return Math.max(0,-tt(Math.abs(e)))}function cr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tt(t)/3)))*3-tt(Math.abs(e)))}function hr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tt(t)-tt(e))+1}function pr(e,t,r,n){var i=Ye(e,t,r),o;switch(n=ut(n==null?",f":n),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=cr(i,s))&&(n.precision=o),pe(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=hr(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=lr(i))&&(n.precision=o-(n.type==="%")*2);break}}return he(n)}function Jn(e){var t=e.domain;return e.ticks=function(r){var n=t();return Xe(n[0],n[n.length-1],r==null?10:r)},e.tickFormat=function(r,n){var i=t();return pr(i[0],i[i.length-1],r==null?10:r,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,s=n[i],a=n[o],u,l,f=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);f-- >0;){if(l=ie(s,a,r),l===u)return n[i]=s,n[o]=a,t(n);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function Zn(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Fo(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Bo(e){return e<0?-e*e:e*e}function zo(e){var t=e(rt,rt),r=1;function n(){return r===1?e(rt,rt):r===.5?e(Fo,Bo):e(Zn(r),Zn(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Jn(t)}function de(){var e=zo(Hn());return e.copy=function(){return Gn(e,de()).exponent(e.exponent())},bn.apply(e,arguments),e}function dr(){return de.apply(null,arguments).exponent(.5)}var eo=Vr(Bi());var Ut={renderedLength:"Rendered",gzipLength:"Gzip",brotliLength:"Brotli"},zi=e=>{let t=["renderedLength"];return e.gzip&&t.push("gzipLength"),e.brotli&&t.push("brotliLength"),t};var Gi=({availableSizeProperties:e,sizeProperty:t,setSizeProperty:r,onExcludeChange:n,onIncludeChange:i})=>{let[o,s]=B(""),[a,u]=B(""),l=h=>()=>{h!==t&&r(h)},f=h=>{let p=h.currentTarget.value;s(p),i(p)},c=h=>{let p=h.currentTarget.value;u(p),n(p)};return N("aside",{className:"sidebar"},N("div",{className:"size-selectors"},e.length>1&&e.map(h=>{let p=`selector-${h}`;return N("div",{className:"size-selector",key:h},N("input",{type:"radio",id:p,checked:h===t,onChange:l(h)}),N("label",{htmlFor:p},Ut[h]))})),N("div",{className:"module-filters"},N("div",{className:"module-filter"},N("label",{htmlFor:"module-filter-exclude"},"Exclude"),N("input",{type:"text",id:"module-filter-exclude",value:a,onInput:c})),N("div",{className:"module-filter"},N("label",{htmlFor:"module-filter-include"},"Include"),N("input",{type:"text",id:"module-filter-include",value:o,onInput:f}))))};var Br=Vr(Ui());var ea=10,Xi=30,Yi=({node:e,visible:t,sizeProperty:r})=>{let{availableSizeProperties:n,importedByCache:i}=mt(ht),o=vn(),[s,a]=B({}),u=$(()=>{var f;return e?N(Q,null,N("div",null,e.id),n.map(c=>{var h,p;return c===r?N("div",null,N("b",null,Ut[c],": ",(0,Br.format)((h=e[c])!=null?h:0))):N("div",null,Ut[c],": ",(0,Br.format)((p=e[c])!=null?p:0))}),e.uid&&i.has(e.uid)&&N("div",null,N("div",null,N("b",null,"Imported By"),":"),[...new Set((f=i.get(e.uid))==null?void 0:f.map(({id:c})=>c))].map(c=>N("div",{key:c},c)))):null},[n,i,e,r]),l=f=>{let c={left:f.x+ea,top:f.y+Xi},h=o.current.getBoundingClientRect();c.left+h.width>window.innerWidth&&(c.left=window.innerWidth-h.width),c.top+h.height>window.innerHeight&&(c.top=f.y-Xi-h.height),a(c)};return ee(()=>{let f=c=>{l({x:c.pageX,y:c.pageY})};return document.addEventListener("mousemove",f,!0),()=>{document.removeEventListener("mousemove",f,!0)}},[]),N("div",{className:`tooltip ${t?"":"tooltip-hidden"}`,ref:o,style:s},u)};var Ki="#487ea4",$i="#599e59",Oe="#cecece";var Wi=({links:e,nodes:t,groups:r,onNodeHover:n})=>{let{width:i,height:o}=mt(ht);return N("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${i} ${o}`},N("g",null,Object.entries(r).map(([s,a])=>{let u=a.bounds;return N("rect",{stroke:"#999","stroke-opacity":"0.6",opacity:"0.6",fill:Oe,key:s,rx:5,ry:5,x:u==null?void 0:u.x,y:u==null?void 0:u.y,width:u==null?void 0:u.width(),height:u==null?void 0:u.height()})})),N("g",{stroke:"#fff","stroke-opacity":"0.9"},e.map(s=>N("line",{key:`${s.source.uid} - ${s.target.uid}`,"stroke-width":"1",x1:s.source.x,y1:s.source.y,x2:s.target.x,y2:s.target.y}))),N("g",{stroke:"#fff","stroke-width":"1.5"},t.map(s=>N("circle",{key:s.uid,r:s.radius,fill:s.color,cx:s.x,cy:s.y,onMouseOver:a=>{a.stopPropagation(),n(s)}}))))};var Qi=({sizeProperty:e,links:t,nodes:r,groups:n})=>{let[i,o]=B(!1),[s,a]=B(void 0);return ee(()=>{let u=()=>{o(!1)};return document.addEventListener("mouseover",u),()=>{document.removeEventListener("mouseover",u)}},[]),N(Q,null,N(Wi,{links:t,nodes:r,groups:n,onNodeHover:u=>{a(u),o(!0)}}),N(Yi,{visible:i,node:s,sizeProperty:e}))};var De=/.*(?:\/|\\\\)?node_modules(?:\/|\\\\)([^/\\]+)(?:\/|\\\\).+/;var Ji=({renderedLength:e,id:t})=>e===0?Oe:De.test(t)?$i:Ki;var Zi=(e,t)=>{let r=!1;return n=>{r||(e(n),r=!0,setTimeout(()=>{r=!1},t))}},to=()=>{let[e,t]=B(""),[r,n]=B(""),i=$(()=>Zi(t,200),[]),o=$(()=>Zi(n,200),[]),s=$(()=>{if(e==="")return()=>!0;try{let f=new RegExp(e);return({id:c})=>f.test(c)}catch(f){return()=>!1}},[e]),a=$(()=>{if(r==="")return()=>!1;try{let f=new RegExp(r);return({id:c})=>f.test(c)}catch(f){return()=>!1}},[r]),u=e==="";return{getModuleFilterMultiplier:$(()=>f=>u?a(f)?0:1:a(f)&&!s(f)?0:1,[u,a,s]),includeFilter:e,excludeFilter:r,setExcludeFilter:o,setIncludeFilter:i}};var ro=()=>{var C,S;let{availableSizeProperties:e,nodes:t,data:r,width:n,height:i}=mt(ht),[o,s]=B(e[0]),{getModuleFilterMultiplier:a,setExcludeFilter:u,setIncludeFilter:l}=to(),f=$(()=>{let y=oe(Object.values(t),A=>A[o]);return dr().domain([1,y]).range([5,30])},[t,o]),c=Object.values(t).map(y=>{let P=f(y[o])+1;return vt(vt({},y),{width:P*2,height:P*2,radius:P,color:Ji(y)})}).filter(y=>a(y)===1),h={};for(let y of c){let P=De.exec(y.id);if(P){let[,A]=P;h[A]=(C=h[A])!=null?C:{leaves:[],padding:1},(S=h[A].leaves)==null||S.push(y)}}let p=new Map(c.map(y=>[y.uid,y])),v=r.links.map(({source:y,target:P})=>({source:p.get(y),target:p.get(P),value:1})).filter(({source:y,target:P})=>y&&P),d=eo.default.adaptor({}).size([n,i]),m=20,g=20,x={x:m,y:g,width:n-m,height:i-g},w=c.slice(0),k={x:x.x,y:x.y,fixed:1},b=c.push(k)-1,_={x:x.x+x.width,y:x.y+x.height,fixed:1},M=c.push(_)-1,E=[];for(let y=0;y<w.length;y++){let P=w[y];E.push({axis:"x",type:"separation",left:b,right:y,gap:P.radius}),E.push({axis:"y",type:"separation",left:b,right:y,gap:P.radius}),E.push({axis:"x",type:"separation",left:y,right:M,gap:P.radius}),E.push({axis:"y",type:"separation",left:y,right:M,gap:P.radius})}return d.nodes(c).links(v).groupCompactness(.001).constraints(E).jaccardLinkLengths(50,.7).avoidOverlaps(!0).handleDisconnected(!1).start(30,30,30,30,!1,!0).stop(),N(Q,null,N(Gi,{sizeProperty:o,availableSizeProperties:e,setSizeProperty:s,onExcludeChange:u,onIncludeChange:l}),N(Qi,{nodes:w,groups:{},links:v,sizeProperty:o}))};var ht=an({}),na=(e,t,r)=>{var a;let n=e.nodeParts[r],i=Object.entries(n).map(([u,l])=>[u,e.nodes[l]]),o=Object.fromEntries(t.map(u=>[u,0]));for(let[,u]of i)for(let l of t)o[l]+=(a=u[l])!=null?a:0;let s=Object.fromEntries(i);return vt(vt({uid:r,bundles:s},o),{id:i[0][1].id})},ia=(e,t,r,n)=>{var u,l;let i=zi(t.options),o=new Map,s=new Map,a={};for(let f of Object.keys(t.nodeParts))a[f]=na(t,i,f);for(let{source:f,target:c}of t.links)o.has(c)||o.set(c,[]),s.has(f)||s.set(f,[]),(u=o.get(c))==null||u.push(a[f]),(l=s.get(f))==null||l.push(a[c]);sn(N(ht.Provider,{value:{data:t,availableSizeProperties:i,width:r,height:n,importedCache:s,importedByCache:o,nodes:a}},N(ro,null)),e)},oa=ia;return ra;})();
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */
